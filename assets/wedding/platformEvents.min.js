!function(e,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t=n();for(var o in t)("object"==typeof exports?exports:e)[o]=t[o]}}(window,(function(){return function(e){var n={};function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(o,a,function(n){return e[n]}.bind(null,a));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=9)}([,,,,,,,function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EventType=void 0,function(e){e.appMenuReorder="appMenuReorder",e.componentDeleted="componentDeleted",e.componentGfppClicked="componentGfppClicked",e.appActionClicked="appActionClicked",e.connectedComponentPasted="connectedComponentPasted",e.connectedComponentDuplicated="connectedComponentDuplicated",e.widgetPasted="widgetPasted",e.widgetDuplicated="widgetDuplicated",e.controllerAdded="controllerAdded",e.controllerSettingsButtonClicked="controllerSettingsButtonClicked",e.controllerGfppClicked="controllerGfppClicked",e.stateChanged="stateChanged",e.stateAdded="stateAdded",e.stateDuplicated="stateDuplicated",e.pageDeleted="pageDeleted",e.siteWasPublished="siteWasPublished",e.siteWasFirstSaved="siteWasFirstSaved",e.siteWasSaved="siteWasSaved",e.startConfiguration="startConfiguration",e.welcomeSectionMainActionClicked="welcomeSectionMainActionClicked",e.widgetGfppClicked="widgetGfppClicked",e.appUpgradeCompleted="appUpgradeCompleted",e.instanceChanged="instanceChanged",e.componentSelectionChanged="componentSelectionChanged",e.globalDesignPresetChanged="globalDesignPresetChanged",e.developerModeChanged="developerModeChanged",e.focusedPageChanged="focusedPageChanged",e.componentAddedToStage="componentAddedToStage",e.connectedComponentAddedToStage="connectedComponentAddedToStage",e.anyComponentAddedToStage="anyComponentAddedToStage",e.componentAnimationChanged="componentAnimationChanged",e.componentDataChanged="componentDataChanged",e.componentDesignChanged="componentDesignChanged",e.componentStyleChanged="componentStyleChanged",e.switchedFromPreview="switchedFromPreview",e.componentArrangementChanged="componentArrangementChanged",e.componentDragEnded="componentDragEnded",e.componentResizeStarted="componentResizeStarted",e.componentRotateEnded="componentRotateEnded",e.sitePublishedDialogClosed="sitePublishedDialogClosed",e.pageBackgroundChanged="pageBackgroundChanged",e.mobileTextScaleChanged="mobileTextScaleChanged",e.componentCropSaved="componentCropSaved",e.toggleBackToTopButtonOn="toggleBackToTopButtonOn",e.componentBehaviorChanged="componentBehaviorChanged",e.componentPropsChanged="componentPropsChanged",e.switchedToMobileView="switchedToMobileView",e.textEditBoxClosed="textEditBoxClosed",e.hideMobileElement="hideMobileElement",e.showMobileElement="showMobileElement",e.pageRenamed="pageRenamed",e.addDynamicPageClicked="addDynamicPageClicked",e.consentPolicyChanged="consentPolicyChanged",e.pageDuplicated="pageDuplicated",e.undo="undo",e.redo="redo",e.addElementsCompClicked="addElementsCompClicked",e.addElementsAllCompsClicked="addElementsAllCompsClicked",e.addElementsResetClicked="addElementsResetClicked",e.appVisitedInDashboard="appVisitedInDashboard",e.componentAddedToApp="componentAddedToApp"}(n.EventType||(n.EventType={}))},,function(e,n,t){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,n,t,o){void 0===o&&(o=t),Object.defineProperty(e,o,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,o){void 0===o&&(o=t),e[o]=n[t]}),a=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&o(n,e,t);return a(n,e),n};Object.defineProperty(n,"__esModule",{value:!0}),n.propagation=n.factory=n.EventType=void 0;const i=t(7);Object.defineProperty(n,"EventType",{enumerable:!0,get:function(){return i.EventType}});const p=d(t(10));n.factory=p;const c=t(11);n.propagation={initMainFrame:c.initMainFrame,initSender:c.initSender,initReceiver:c.initReceiver}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.componentAddedToApp=n.appVisitedInDashboard=n.addElementsResetClicked=n.addElementsAllCompsClicked=n.addElementsCompClicked=n.redo=n.undo=n.consentPolicyChanged=n.addDynamicPageClicked=n.pageRenamed=n.componentSelectionChanged=n.instanceChanged=n.focusedPageChanged=n.showMobileElement=n.hideMobileElement=n.textEditBoxClosed=n.switchedToMobileView=n.componentPropsChanged=n.componentBehaviorChanged=n.toggleBackToTopButtonOn=n.componentCropSaved=n.mobileTextScaleChanged=n.switchedFromPreview=n.sitePublishedDialogClosed=n.pageDuplicated=n.pageBackgroundChanged=n.componentRotateEnded=n.componentResizeStarted=n.componentDragEnded=n.componentArrangementChanged=n.componentStyleChanged=n.componentDesignChanged=n.componentDataChanged=n.componentAnimationChanged=n.anyComponentAddedToStage=n.connectedComponentAddedToStage=n.componentAddedToStage=n.developerModeChanged=n.globalDesignPresetChanged=n.appUpgradeCompleted=n.widgetGfppClicked=n.welcomeSectionMainActionClicked=n.startConfiguration=n.siteWasSaved=n.siteWasFirstSaved=n.siteWasPublished=n.pageDeleted=n.stateDuplicated=n.stateAdded=n.stateChanged=n.controllerGfppClicked=n.controllerSettingsButtonClicked=n.controllerAdded=n.widgetDuplicated=n.widgetPasted=n.connectedComponentDuplicated=n.connectedComponentPasted=n.appActionClicked=n.componentGfppClicked=n.componentDeleted=n.appMenuReorder=void 0;const o=t(7);n.appMenuReorder=function({menuId:e,menuItemId:n,parentId:t,newIndex:a}){return{eventType:o.EventType.appMenuReorder,eventPayload:{menuId:e,menuItemId:n,parentId:t,newIndex:a}}},n.componentDeleted=function({componentRef:e,connections:n}){return{eventType:o.EventType.componentDeleted,eventPayload:{componentRef:e,connections:n}}},n.componentGfppClicked=function({id:e,role:n,componentRef:t,controllerRef:a}){return{eventType:o.EventType.componentGfppClicked,eventPayload:{id:e,role:n,componentRef:t,controllerRef:a}}},n.appActionClicked=function({actionId:e}){return{eventType:o.EventType.appActionClicked,eventPayload:{actionId:e}}},n.connectedComponentPasted=function({componentRef:e,connection:n,originalComponentRef:t}){return{eventType:o.EventType.connectedComponentPasted,eventPayload:{componentRef:e,originalComponentRef:t,connection:n}}},n.connectedComponentDuplicated=function({componentRef:e,connection:n,originalComponentRef:t}){return{eventType:o.EventType.connectedComponentDuplicated,eventPayload:{componentRef:e,originalComponentRef:t,connection:n}}},n.widgetPasted=function({componentRef:e,originalComponentRef:n}){return{eventType:o.EventType.widgetPasted,eventPayload:{componentRef:e,originalComponentRef:n}}},n.widgetDuplicated=function({componentRef:e,originalComponentRef:n}){return{eventType:o.EventType.widgetDuplicated,eventPayload:{componentRef:e,originalComponentRef:n}}},n.controllerAdded=function({controllerRef:e,origin:n}){return{eventType:o.EventType.controllerAdded,eventPayload:{controllerRef:e,origin:n}}},n.controllerSettingsButtonClicked=function({controllerRef:e,controllerConfig:n,controllerType:t,controllerDisplayName:a}){return{eventType:o.EventType.controllerSettingsButtonClicked,eventPayload:{controllerRef:e,controllerConfig:n,controllerType:t,controllerDisplayName:a,origin:"gfpp"}}},n.controllerGfppClicked=function({id:e,controllerRef:n,controllerConfig:t,controllerType:a,controllerDisplayName:d}){return{eventType:o.EventType.controllerGfppClicked,eventPayload:{id:e,controllerRef:n,controllerConfig:t,controllerType:a,controllerDisplayName:d,origin:"gfpp"}}},n.stateChanged=function({componentRef:e,selectedStateRef:n}){return{eventType:o.EventType.stateChanged,eventPayload:{componentRef:e,selectedStateRef:n}}},n.stateAdded=function({componentRef:e,addedStateRef:n}){return{eventType:o.EventType.stateAdded,eventPayload:{componentRef:e,addedStateRef:n}}},n.stateDuplicated=function({componentRef:e,newDuplicatedStateRef:n}){return{eventType:o.EventType.stateDuplicated,eventPayload:{componentRef:e,newDuplicatedStateRef:n}}},n.pageDeleted=function({pageRole:e}){return{eventType:o.EventType.pageDeleted,eventPayload:{pageRole:e}}},n.siteWasPublished=function(){return{eventType:o.EventType.siteWasPublished}},n.siteWasFirstSaved=function({instanceId:e,instance:n,metaSiteId:t}){return{eventType:o.EventType.siteWasFirstSaved,eventPayload:{instanceId:e,instance:n,metaSiteId:t}}},n.siteWasSaved=function({isAutosave:e}){return{eventType:o.EventType.siteWasSaved,eventPayload:{isAutosave:e}}},n.startConfiguration=function({token:e,initialData:n,origin:t,commonConfig:a}){return{eventType:o.EventType.startConfiguration,eventPayload:{token:e,initialData:n,origin:t,commonConfig:a}}},n.welcomeSectionMainActionClicked=function(){return{eventType:o.EventType.welcomeSectionMainActionClicked,eventPayload:{}}},n.widgetGfppClicked=function({componentRef:e,id:n,gfppOrigin:t}){return{eventType:o.EventType.widgetGfppClicked,eventPayload:{id:n,componentRef:e,gfppOrigin:t}}},n.appUpgradeCompleted=function({vendorProductId:e,cycle:n,instance:t}){return{eventType:o.EventType.appUpgradeCompleted,eventPayload:{vendorProductId:e,cycle:n,instance:t}}},n.globalDesignPresetChanged=function({componentRef:e,preset:n}){return{eventType:o.EventType.globalDesignPresetChanged,eventPayload:{preset:n,componentRef:e}}},n.developerModeChanged=function({value:e}){return{eventType:o.EventType.developerModeChanged,eventPayload:{value:e}}},n.componentAddedToStage=function({componentType:e,compRef:n}){return{eventType:o.EventType.componentAddedToStage,eventPayload:{componentType:e,compRef:n}}},n.connectedComponentAddedToStage=function({componentType:e,compRef:n}){return{eventType:o.EventType.connectedComponentAddedToStage,eventPayload:{componentType:e,compRef:n}}},n.anyComponentAddedToStage=function({componentType:e,compRef:n}){return{eventType:o.EventType.anyComponentAddedToStage,eventPayload:{componentType:e,compRef:n}}},n.componentAnimationChanged=function({compRef:e}){return{eventType:o.EventType.componentAnimationChanged,eventPayload:{compRef:e}}},n.componentDataChanged=function({compRef:e,previousData:n}){return{eventType:o.EventType.componentDataChanged,eventPayload:{compRef:e,previousData:n}}},n.componentDesignChanged=function({compRef:e}){return{eventType:o.EventType.componentDesignChanged,eventPayload:{compRef:e}}},n.componentStyleChanged=function({compRef:e}){return{eventType:o.EventType.componentStyleChanged,eventPayload:{compRef:e}}},n.componentArrangementChanged=function({compRef:e}){return{eventType:o.EventType.componentArrangementChanged,eventPayload:{compRef:e}}},n.componentDragEnded=function({compRef:e}){return{eventType:o.EventType.componentDragEnded,eventPayload:{compRef:e}}},n.componentResizeStarted=function({compRef:e}){return{eventType:o.EventType.componentResizeStarted,eventPayload:{compRef:e}}},n.componentRotateEnded=function({compRef:e}){return{eventType:o.EventType.componentRotateEnded,eventPayload:{compRef:e}}},n.pageBackgroundChanged=function({pageRef:e}){return{eventType:o.EventType.pageBackgroundChanged,eventPayload:{pageRef:e}}},n.pageDuplicated=function({originalPageRef:e,duplicatedPageRef:n}){return{eventType:o.EventType.pageDuplicated,eventPayload:{originalPageRef:e,duplicatedPageRef:n}}},n.sitePublishedDialogClosed=function(){return{eventType:o.EventType.sitePublishedDialogClosed,eventPayload:{}}},n.switchedFromPreview=function(){return{eventType:o.EventType.switchedFromPreview,eventPayload:{}}},n.mobileTextScaleChanged=function({compRef:e}){return{eventType:o.EventType.mobileTextScaleChanged,eventPayload:{compRef:e}}},n.componentCropSaved=function({compRef:e}){return{eventType:o.EventType.componentCropSaved,eventPayload:{compRef:e}}},n.toggleBackToTopButtonOn=function(){return{eventType:o.EventType.toggleBackToTopButtonOn,eventPayload:{}}},n.componentBehaviorChanged=function({compRef:e}){return{eventType:o.EventType.componentBehaviorChanged,eventPayload:{compRef:e}}},n.componentPropsChanged=function({compRef:e}){return{eventType:o.EventType.componentPropsChanged,eventPayload:{compRef:e}}},n.switchedToMobileView=function(){return{eventType:o.EventType.switchedToMobileView,eventPayload:{}}},n.textEditBoxClosed=function({compRef:e}){return{eventType:o.EventType.textEditBoxClosed,eventPayload:{compRef:e}}},n.hideMobileElement=function({compRef:e}){return{eventType:o.EventType.hideMobileElement,eventPayload:{compRef:e}}},n.showMobileElement=function({compRef:e}){return{eventType:o.EventType.showMobileElement,eventPayload:{compRef:e}}},n.focusedPageChanged=function({pageRef:e}){return{eventType:o.EventType.focusedPageChanged,eventPayload:{pageRef:e}}},n.instanceChanged=function(e){return{eventType:o.EventType.instanceChanged,eventPayload:{instance:e}}},n.componentSelectionChanged=function(e){return{eventType:o.EventType.componentSelectionChanged,eventPayload:{componentRefs:e}}},n.pageRenamed=function({pageRef:e,title:n}){return{eventType:o.EventType.pageRenamed,eventPayload:{pageRef:e,title:n}}},n.addDynamicPageClicked=function({origin:e,pageRef:n}){return{eventType:o.EventType.addDynamicPageClicked,eventPayload:{origin:e,pageRef:n}}},n.consentPolicyChanged=function({currentPolicy:e}){return{eventType:o.EventType.consentPolicyChanged,eventPayload:{currentPolicy:e}}},n.undo=function({label:e}){return{eventType:o.EventType.undo,eventPayload:{label:e}}},n.redo=function({label:e}){return{eventType:o.EventType.redo,eventPayload:{label:e}}},n.addElementsCompClicked=function({label:e,isEssential:n,widgetRef:t}){return{eventType:o.EventType.addElementsCompClicked,eventPayload:{label:e,isEssential:n,widgetRef:t}}},n.addElementsAllCompsClicked=function({widgetRef:e}){return{eventType:o.EventType.addElementsAllCompsClicked,eventPayload:{widgetRef:e}}},n.addElementsResetClicked=function({widgetRef:e}){return{eventType:o.EventType.addElementsResetClicked,eventPayload:{widgetRef:e}}},n.appVisitedInDashboard=function({visitedAppDefIds:e}){return{eventType:o.EventType.appVisitedInDashboard,eventPayload:{visitedAppDefIds:e}}},n.componentAddedToApp=function({widgetRef:e,compRef:n}){return{eventType:o.EventType.componentAddedToApp,eventPayload:{widgetRef:e,compRef:n}}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.initReceiver=n.initSender=n.initMainFrame=void 0;const o="undefined"==typeof globalThis?self:globalThis;function a(e){var n;return"function"==typeof(null===(n=e.source)||void 0===n?void 0:n.postMessage)}function d(e){return!!a(e)&&function(e){var n;const t=new URL(e);return(null===(n=o.location)||void 0===n?void 0:n.hostname)===t.hostname||("static.parastorage.com"===t.hostname||t.hostname.endsWith(".wix.com")||t.hostname.endsWith(".editorx.com")||t.hostname.endsWith(".wix.dev"))}(e.origin)}n.initMainFrame=function(){const e=new MessageChannel,n=e.port1,t=e.port2;o.addEventListener("message",(function e(n){var a;if("event propagation: sender ready"!==(null===(a=n.data)||void 0===a?void 0:a.type))return;if(!d(n))return;o.removeEventListener("message",e);const i={type:"event propagation: connect sender with main frame"};n.source.postMessage(i,n.origin,[t])})),o.addEventListener("message",(function(e){var t;if("event propagation: receiver ready"!==(null===(t=e.data)||void 0===t?void 0:t.type))return;if(!a(e))return;const o=new MessageChannel,d={type:"event propagation: connect receiver with sender"};n.postMessage(d,[o.port1]),e.source.postMessage(d,e.origin,[o.port2])}))},n.initSender=function(){let e=null;const n=new Set;function t(e){var t;if("event propagation: connect receiver with sender"!==(null===(t=e.data)||void 0===t?void 0:t.type))return;const o=e.ports[0];n.add(o),o.addEventListener("message",(function e(t){var a;"event propagation: receiver close"===(null===(a=t.data)||void 0===a?void 0:a.type)&&(o.removeEventListener("message",e),n.delete(o))})),o.start()}const a=[];function i(t,o){if(!e)return void a.push({eventType:t,eventPayload:o});const d={type:"event propagation: event from sender",eventType:t,eventPayload:o};for(const e of n)e.postMessage(d)}return o.addEventListener("message",(function n(p){var c;if("event propagation: connect sender with main frame"===(null===(c=p.data)||void 0===c?void 0:c.type)&&d(p))for(o.removeEventListener("message",n),e=p.ports[0],e.addEventListener("message",t),e.start();a.length;){const{eventType:e,eventPayload:n}=a.shift();i(e,n)}})),function n(){e||(o.parent.postMessage({type:"event propagation: sender ready"},"*"),setTimeout(n,30))}(),{propagateEvent:i}},n.initReceiver=function(e){let n=null;function t(n){var t;if("event propagation: event from sender"!==(null===(t=n.data)||void 0===t?void 0:t.type))return;const{eventType:o,eventPayload:a}=n.data;e.__dispatchEvent(new CustomEvent(o,{detail:a}))}o.addEventListener("message",(function e(a){var i;"event propagation: connect receiver with sender"===(null===(i=a.data)||void 0===i?void 0:i.type)&&d(a)&&(o.removeEventListener("message",e),o.addEventListener("beforeunload",()=>{const e={type:"event propagation: receiver close"};null==n||n.postMessage(e)}),n=a.ports[0],n.addEventListener("message",t),n.start())}));const a={type:"event propagation: receiver ready"};o.parent.postMessage(a,"*")}}])}));
//# sourceMappingURL=platformEvents.min.js.map