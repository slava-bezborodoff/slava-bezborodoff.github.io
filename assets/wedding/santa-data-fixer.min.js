define(["lodash","coreUtilsLib","image-client-api"],(function(e,t,n){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";var i=n(0);function r(e,t){this.migrationMap=e,this.uniqueIdGenerator=t}r.prototype.getComponentData=function(e,t){return t.dataQuery&&e.data.document_data[t.dataQuery.replace("#","")]},r.prototype.setComponentData=function(e,t,n,r){var o=t.dataQuery||i.get(r,[t.id,"dataQuery"])||this.uniqueIdGenerator.getUniqueId("dataItem","-");o=o.replace("#",""),t.dataQuery="#".concat(o),n.id=o,e.data.document_data[o]=n,i.set(r,[t.id,"dataQuery"],o)},r.prototype.deleteComponentData=function(e,t){var n=t.dataQuery&&t.dataQuery.replace("#","");n&&e.data.document_data[n]&&delete e.data.document_data[n]},r.prototype.getComponentDesignData=function(e,t){return t.designQuery&&e.data.design_data[t.designQuery.replace("#","")]},r.prototype.deleteComponentDesignData=function(e,t){var n=t.designQuery&&t.designQuery.replace("#","");n&&e.data.design_data[n]&&delete e.data.design_data[n]},r.prototype.getComponentProperties=function(e,t){return t.propertyQuery&&e.data.component_properties[t.propertyQuery.replace("#","")]},r.prototype.deleteComponentProperties=function(e,t){var n=t.propertyQuery&&t.propertyQuery.replace("#","");n&&e.data.component_properties[n]&&delete e.data.component_properties[n],t.propertyQuery&&delete t.propertyQuery},r.prototype.setComponentDesignData=function(e,t,n,r){var o=t.designQuery||i.get(r,[t.id,"designQuery"])||this.uniqueIdGenerator.getUniqueId("dataItem","-");if(o=o.replace("#",""),t.designQuery="#".concat(o),n.id=o,i.isObject(n.background)){var a=i.clone(n.background);a.id=(a.id||this.uniqueIdGenerator.getUniqueId("dataItem","-")).replace("#",""),n.background="#".concat(a.id),e.data.design_data[a.id]=a}e.data.design_data[o]=n,i.set(r,[t.id,"designQuery"],t.designQuery)},r.prototype.setComponentProperties=function(e,t,n,r){var o=t.propertyQuery||i.get(r,[t.id,"propertyQuery"])||this.uniqueIdGenerator.getUniqueId("propItem","-");o=o.replace("#",""),t.propertyQuery=o,n.id=o,e.data.component_properties[o]=n,i.set(r,[t.id,"propertyQuery"],o)},r.prototype.setComponentStyle=function(e,t,n,r){var o=t.styleId||i.get(r,[t.id,"styleId"])||this.uniqueIdGenerator.getUniqueId("style","-");t.styleId=o,n.id=o,e.data.theme_data[o]=n,i.set(r,[t.id,"styleId"],o)},r.prototype.migrateComps=function(e,t,n,r){var o=this;r&&i.forEach(r.slice(),(function(i){o.migrationMap[i.componentType]&&o.migrationMap[i.componentType].call(o,e,t,n,i,o.uniqueIdGenerator,r),o.migrateComps(e,t,n,i.components)}))},r.prototype.migratePage=function(e){var t=e.structure;if(t){var n={},i=t.components||t.children,r=t.mobileComponents;i&&this.migrateComps(e,n,!1,i),r&&this.migrateComps(e,n,!0,r)}},e.exports={CompsMigrationHelper:r,createHelperAndMigratePage:function(e,t){return function(n,i,o,a,s,c,u,p){if(!t||p.isExperimentOpen(t)){var d=p.dataFixerUtils.uniqueIdGenerator;new r(e,d).migratePage(n)}}}}},function(e,t,n){"use strict";var i=n(0),r=n(4),o=r.refArray,a=r.variantRelation,s=["TopLevelStyle","ComponentStyle"],c={forEachStyle:function(e,t){i.forEach(e,(function(e,n,i){c.isSupportedStyleData(e)&&t(e,n,i)}))},forEachComponentStyle:function(e,t,n){var i=e[t];if(i&&n){if(c.isSupportedStyleData(i)&&n(i,t,e),o.isRefArray(i))o.extractValuesWithoutHash(i).forEach((function(t){c.forEachComponentStyle(e,t,n)}));if(a.isVariantRelation(i)){var r=i.to;if(!r)return;c.forEachComponentStyle(e,r,n)}}},isSupportedStyleData:function(e){return s.includes(e.type)},getDefaultStyleByRef:function(e,t){var n=e[t];if(c.isSupportedStyleData(n))return n;for(var i=o.extractValuesWithoutHash(n),r=null,a=0;a<i.length;++a){var s=e[i[a]];if(c.isSupportedStyleData(s)){r=s;break}}return r},getAllStylesByRef:function(e,t){var n=[];return c.forEachComponentStyle(e,t,(function(e){return n.push(e)})),n}};e.exports=c},function(e,t,n){"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(0);function s(e){return e&&e.replace("#","")}var c={isVariantRelation:function(e){return"VariantRelation"===e.type},extractVariantsWithoutHash:function(e){return!(!e||!e.variants)&&a.map(e.variants,s)},extractToWithoutHash:function(e){return e&&e.to&&s(e.to)},create:function(e){return{type:"VariantRelation",id:e.id,variants:e.variants?a.map(e.variants,s):[],to:"#".concat(s(e.scopedDataId)),from:e.from}}},u={isBreakpointRelation:function(e){return e&&"BreakpointRelation"===e.type},extractBreakpointWithoutHash:function(e){return e&&e.breakpoint&&s(e.breakpoint)},extractRefWithoutHash:function(e){return e&&e.ref&&s(e.ref)},create:function(e){return{type:"BreakpointRelation",id:e.id,breakpoint:"#".concat(s(e.breakpoint)),ref:"#".concat(s(e.ref))}}},p={extractValues:function(e){return a.get(e,"values",[])},extractValuesWithoutHash:function(e){return a.map(p.extractValues(e),s)},create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"RefArray",values:a.map(e,(function(e){return"#".concat(e.replace("#",""))}))}},update:function(e,t){return r(r({},e),{},{values:a.map(t,(function(e){return"#".concat(e.replace("#",""))}))})},isRefArray:function(e){return e&&"RefArray"===e.type}};e.exports={refArray:p,variantRelation:c,breakpointRelation:u,stripHashIfExists:s}},function(e,t,n){"use strict";var i=n(9),r=i.fittingTypes,o=i.alignTypes,a={"repeat-x":r.TILE_HORIZONTAL,"repeat no_repeat":r.TILE_HORIZONTAL,"repeat no-repeat":r.TILE_HORIZONTAL,"repeat-y":r.TILE_VERTICAL,"no_repeat repeat":r.TILE_VERTICAL,"no-repeat repeat":r.TILE_VERTICAL,repeat:r.TILE,"repeat repeat":r.TILE,"":""};Object.freeze(a);var s={auto:function(e){return e||r.LEGACY_ORIGINAL_SIZE},cover:function(){return r.SCALE_TO_FILL},contain:function(e){return e?r.FIT_AND_TILE:r.SCALE_TO_FIT},"":function(){return r.SCALE_TO_FILL}};Object.freeze(s);var c={"center center":o.CENTER,center:o.CENTER,"50% 50%":o.CENTER,"top center":o.TOP,"center top":o.TOP,"50% 0%":o.TOP,"bottom center":o.BOTTOM,"center bottom":o.BOTTOM,"50% 100%":o.BOTTOM,"center right":o.RIGHT,"right center":o.RIGHT,"100% 50%":o.RIGHT,"center left":o.LEFT,"left center":o.LEFT,"0% 50%":o.LEFT,"left top":o.TOP_LEFT,"top left":o.TOP_LEFT,"0% 0%":o.TOP_LEFT,"right top":o.TOP_RIGHT,"top right":o.TOP_RIGHT,"100% 0%":o.TOP_RIGHT,"left bottom":o.BOTTOM_LEFT,"bottom left":o.BOTTOM_LEFT,"0% 100%":o.BOTTOM_LEFT,"right bottom":o.BOTTOM_RIGHT,"bottom right":o.BOTTOM_RIGHT,"100% 100%":o.BOTTOM_RIGHT,"":o.CENTER};Object.freeze(c);var u,p=((u={})[r.LEGACY_STRIP_TILE_HORIZONTAL]="repeat-x",u[r.TILE_HORIZONTAL]="repeat-x",u[r.LEGACY_STRIP_TILE_VERTICAL]="repeat-y",u[r.TILE_VERTICAL]="repeat-y",u[r.LEGACY_STRIP_TILE]="repeat",u[r.TILE]="repeat",u[r.FIT_AND_TILE]="repeat",u[""]="no-repeat",u);Object.freeze(p);var d=function(){var e={};return e[r.LEGACY_ORIGINAL_SIZE]="auto",e[r.LEGACY_STRIP_ORIGINAL_SIZE]="auto",e[r.SCALE_TO_FILL]="cover",e[r.LEGACY_STRIP_SCALE_TO_FILL]="cover",e[r.SCALE_TO_FIT]="contain",e[r.LEGACY_STRIP_SCALE_TO_FIT]="contain",e[r.FIT_AND_TILE]="contain",e[r.LEGACY_STRIP_FIT_AND_TILE]="contain",e[""]="auto",e}();Object.freeze(d);var l=function(){var e={};return e[o.TOP]="center top",e[o.CENTER]="center",e[o.BOTTOM]="center bottom",e[o.TOP_LEFT]="left top",e[o.LEFT]="left center",e[o.BOTTOM_LEFT]="left bottom",e[o.TOP_RIGHT]="right top",e[o.RIGHT]="right center",e[o.BOTTOM_RIGHT]="right bottom",e[""]="center",e}();function m(e){return(e||"").toLowerCase().trim()}Object.freeze(l),e.exports={cssToFittingType:function(e){var t=m(e.bgRepeat),n=m(e.bgSize),i=a[t];return s[n]&&s[n](i)},cssToAlignType:function(e){return e=m(e),c[e]},fittingTypeToBgRepeat:function(e){return p[e]||p[""]},fittingTypeToBgSize:function(e){return d[e]||d[""]},alignTypeToBgPosition:function(e){return l[e]||l[""]},migrateToLegacyFittings:function(e){return e===r.TILE?r.LEGACY_STRIP_TILE:e===r.TILE_HORIZONTAL?r.LEGACY_STRIP_TILE_HORIZONTAL:e===r.TILE_VERTICAL?r.LEGACY_STRIP_TILE_VERTICAL:e===r.SCALE_TO_FILL?r.LEGACY_STRIP_SCALE_TO_FILL:e===r.SCALE_TO_FIT?r.LEGACY_STRIP_SCALE_TO_FIT:e===r.FIT_AND_TILE?r.LEGACY_STRIP_FIT_AND_TILE:e===r.LEGACY_ORIGINAL_SIZE?r.LEGACY_STRIP_ORIGINAL_SIZE:e}}},function(e,t,n){"use strict";var i=n(12)(),r=n(118)(i);e.exports=r},function(e,t,n){"use strict";e.exports={createBehaviorsDataItem:function(e,t){return{id:t.getUniqueId("behavior","-"),type:"ObsoleteBehaviorsList",items:e}}}},function(e,t,n){"use strict";var i=n(0),r="BOTTOM_BOTTOM",o="BOTTOM_TOP";function a(e){return e&&e.layout&&e.layout.y+e.layout.height}function s(e){return e.layout&&e.layout.anchors||[]}function c(e){return e.type===r||e.type===o}e.exports={fixBottomTopBottomBottomCycles:function e(t){if(!i.isEmpty(t)){var n=i.keyBy(t,"id");i.forEach(t,(function(t){var u=s(t);i.remove(u,(function(e){return c(e)&&function(e,t,n){var s;switch(e.type){case r:s=a(n);break;case o:s=i.get(n,"layout.y");break;default:return!1}return!i.isUndefined(s)&&s-a(t)<0}(e,t,n[e.targetComponent])&&function e(t,n,r,o){if(o[n.id])return!1;o[n.id]=!0;var a=s(n);return a=i.filter(a,c),i.some(a,(function(n){return n.targetComponent===t.id||e(t,r[n.targetComponent],r,o)}))}(t,n[e.targetComponent],n,{})})),e(t.components)}))}}}},function(e,t){e.exports=n},function(e,t,n){"use strict";var i=n(0),r=n(115),o=i.pickBy(r,{isPublicViewerData:!0}),a=i.omitBy(r,{isPublicViewerData:!0}),s=i.map(o,"mapName"),c=i(o).pickBy("query").map("query").value(),u=i(a).pickBy("query").map("query").value();e.exports={publicDataMaps:s,publicDataQueries:c,nonPublicDataQueries:u}},function(e,t,n){"use strict";var i=n(6),r=n(120),o=n(5),a=n(8);e.exports={fix:i,deprecatedSiteModelMigrater:r,imageTransformDataFixers:o,anchorCyclesHelper:a}},function(e,t,n){"use strict";var i=n(0),r=n(13),o=n(15),a=n(16),s=n(18),c=n(19),u=n(21),p=n(22),d=n(23),l=n(24),m=n(25),f=n(26),y=n(27),g=n(28),v=n(30),w=n(31),h=n(32),k=n(33),S=n(34),b=n(35),T=n(36),I=n(37),_=n(38),P=n(39),x=n(40),E=n(41),M=n(42),C=n(43),A=n(44),O=n(45),B=n(46),N=n(47),D=n(48),L=n(49),R=n(50),F=n(51),U=n(52),G=n(53),Q=n(54),V=n(55),H=n(56),q=n(57),j=n(58),W=n(59),z=n(60),Y=n(61),J=n(62),Z=n(63),K=n(64),X=n(65),$=n(66),ee=n(67),te=n(68),ne=n(69),ie=n(70),re=n(71),oe=n(72),ae=n(73),se=n(74),ce=n(75),ue=n(76),pe=n(77),de=n(78),le=n(79),me=n(80),fe=n(81),ye=n(82),ge=n(83),ve=n(84),we=n(85),he=n(86),ke=n(87),Se=n(88),be=n(89),Te=n(90),Ie=n(91),_e=n(92),Pe=n(93),xe=n(94),Ee=n(95),Me=n(96),Ce=n(97),Ae=n(98),Oe=n(99),Be=n(100),Ne=n(101),De=n(102),Le=n(103),Re=n(105),Fe=n(106),Ue=n(107),Ge=n(108),Qe=n(109),Ve=n(110),He=n(111),qe=n(112),je=n(113),We=n(114),ze=n(116),Ye=n(117),Je=i.compact([Be,Ae,xe,Ee,r,a,s,B,N,D,X,$,c,u,p,d,l,m,f,y,g,Me,v,fe,w,h,k,S,b,T,I,_,P,o,x,E,M,C,A,O,se,ce,L,R,F,U,G,Q,V,H,j,W,z,q,Y,Z,K,X,te,ne,ie,re,oe,ae,ue,de,le,pe,me,ye,J,ge,ve,we,he,ke,Se,_e,be,Te,Ie,Pe,Oe,Ne,Ce,De,Le,ee,Ge,Qe,Ve,Re,Fe,Ue,He,qe,je,We,ze,Ye]);e.exports=function(){var e=[];return{registerPlugin:function(t){return e.push(t)},getPlugins:function(){return i.concat(Je,e)}}}},function(e,t,n){"use strict";var i=n(0),r=n(2).CompsMigrationHelper,o=n(14);function a(e,t,n,i){if(n){var r=t[i.id]||{};if(r.componentType!==i.componentType){var a=r.componentType;i.componentType=a;var s=this.getComponentProperties(e,i),c=o[a]?o[a].propType:"";!a||s&&s.type===c||(i.propertyQuery=r.propertyQuery)}}else t[i.id]=i}e.exports={exec:function(e,t,n,s,c,u,p,d){var l=i.mapValues(o,(function(){return a})),m=d.dataFixerUtils.uniqueIdGenerator;new r(l,m).migratePage(e)}}},function(e,t,n){"use strict";e.exports={"wysiwyg.viewer.components.MatrixGallery":{propType:"MatrixGalleryProperties"},"wysiwyg.viewer.components.PaginatedGridGallery":{propType:"PaginatedGridGalleryProperties"},"wysiwyg.viewer.components.SliderGallery":{propType:"SliderGalleryProperties"},"wysiwyg.viewer.components.SlideShowGallery":{propType:"SlideShowGalleryProperties"},"tpa.viewer.components.Masonry":{propType:"MasonryProperties"},"tpa.viewer.components.Accordion":{propType:"AccordionProperties"},"tpa.viewer.components.Impress":{propType:"ImpressProperties"},"tpa.viewer.components.Freestyle":{propType:"FreestyleProperties"},"tpa.viewer.components.Collage":{propType:"CollageProperties"},"tpa.viewer.components.Honeycomb":{propType:"HoneycombProperties"},"tpa.viewer.components.StripShowcase":{propType:"StripShowcaseProperties"},"tpa.viewer.components.StripSlideshow":{propType:"StripSlideshowProperties"},"tpa.viewer.components.Thumbnails":{propType:"ThumbnailsProperties"},"wysiwyg.viewer.components.tpapps.TPA3DGallery":{propType:"SlideShowGalleryProperties"},"wysiwyg.viewer.components.tpapps.TPA3DCarousel":{propType:"SlideShowGalleryProperties"}}},function(e,t,n){"use strict";e.exports={exec:function(e){e.structure=e.structure||{},e.structure.layout=e.structure.layout||{},e.structure.layout.y=0}}},function(e,t,n){"use strict";function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var o=n(0),a=n(17),s=["wysiwyg.viewer.components.HeaderContainer","wysiwyg.viewer.components.SiteRegionContainer","wysiwyg.viewer.components.PagesContainer","wysiwyg.viewer.components.FooterContainer","platform.components.AppController","wysiwyg.viewer.components.tpapps.TPAGluedWidget","wysiwyg.viewer.components.QuickActionBar","wysiwyg.common.components.backtotopbutton.viewer.BackToTopButton","wysiwyg.viewer.components.BackToTopButton","wysiwyg.viewer.components.MenuContainer"],c=function(e){return o.get(e,["data","document_data","masterPage","layoutSettings"],{})},u=function(e){return function(e){return c(e).useDesktopSectionsLayout}(e)},p=function(e){return!function(e){var t=o.get(e,["structure","mobileComponents"]);return o.some(t,(function(e){var t=e.componentType;return!o.includes(s,t)}))}(e)},d=function(e){"mesh"!==function(e){return o.get(e,["data","document_data","masterPage","layoutSettings","mechanism"],"anchors")}(e)||u(e)&&p(e)||function(e,t){o.set(e,["data","document_data","masterPage","layoutSettings","mechanism"],t)}(e,"anchors")},l={MOBILE:["wysiwyg.viewer.components.HeaderContainer","wysiwyg.viewer.components.SiteRegionContainer","wysiwyg.viewer.components.PagesContainer","wysiwyg.viewer.components.FooterContainer"],DESKTOP:["wysiwyg.viewer.components.HeaderContainer","wysiwyg.viewer.components.PagesContainer","wysiwyg.viewer.components.FooterContainer"]},m=function(e,t){return o.includes(function(e){return l[e?"MOBILE":"DESKTOP"]}(e),t.componentType)},f=function(e){return"PAGES_CONTAINER"===e.id},y=function(e,t){return m(t,e)||(n=e,o.get(n,["layout","fixedPosition"],!1));var n},g=function(e){var t,n=(t=e,o.findIndex(t,f)),i=e.length-1;if(n===i)return n;var r,a,s,c=(r=e,a=function(e){return y(e,!1)},s=n,o.findIndex(r,a,s+1));return-1===c?i:c-1},v=function(e){if(!0===function(e){return o.get(e,["data","document_data","masterPage","layoutSettings","soapCompsAroundPagesContainer"],!1)}(e)){var t=function(e,t){return t?o.get(e,["structure","mobileComponents"]):o.get(e,["structure","children"])}(e,!1);if("wysiwyg.viewer.components.SiteRegionContainer"===o.head(t).componentType){var n=g(t);a=0,s=n,(r=t).splice.apply(r,[s,0].concat(i(r.splice(a,1)))),function(e,t){o.set(e,["data","document_data","masterPage","layoutSettings","soapCompsAroundPagesContainer"],t)}(e,!1)}}var r,a,s};function w(e){return 0===o.get(e,"layout.width")}function h(e){return 0===o.get(e,"layout.height")}function k(e){w(e)&&o.set(e,"layout.width",100),h(e)&&o.set(e,"layout.height",100)}function S(e,t){var n=!1;if(o.forEach(["SITE_HEADER","SITE_FOOTER"],(function(i){var r=o.find(e,{id:i});w(r)&&(n=!0),h(r)&&(o.set(r,"layout.height",100),n=!0),o.set(r,"layout.width",t)})),n){var i=o.reject(e,{id:"PAGES_CONTAINER"});a(i,[k])}}function b(e,t){var n=o.find(e,{id:"SITE_HEADER"});if(n){(function(e,t){if(!t.behaviorQuery)return!1;var n=o.get(e,["data","behaviors_data",t.behaviorQuery]);try{var i=JSON.parse(n.items);return o.some(i,{type:"scrub",name:"ScrubAnimation"})}catch(e){return!1}})(t,n)&&o.set(n,["layout","fixedPosition"],!0);var i=o.find(e,{id:"SITE_FOOTER"});o.set(i,["layout","fixedPosition"],!1)}}function T(e){var t,n=e.structure,i=n.children,r=n.mobileComponents,a=o.get(e,"data.document_data.masterPage.renderModifiers.siteWidth",980);_(i),S(i,a),_(r),S(r,320),b(r,e),t=r,o.forEach(t,(function(e){o.forEach(o.get(e,"layout.anchors"),(function(t){switch(e.id){case"SITE_FOOTER":"BOTTOM_PARENT"===t.type&&(t.distance=0);break;case"PAGES_CONTAINER":"BOTTOM_TOP"===t.type&&t.locked&&t.distance>=70&&(t.originalValue=0,t.locked=!1)}}))}))}var I=[{componentType:"wysiwyg.viewer.components.PagesContainer",id:"PAGES_CONTAINER"},{componentType:"wysiwyg.viewer.components.FooterContainer",id:"SITE_FOOTER"},{componentType:"wysiwyg.viewer.components.HeaderContainer",id:"SITE_HEADER"}];function _(e){o.forEach(I,(function(t){if(!o.find(e,{id:t.id})){var n=o.find(e,{componentType:t.componentType});n&&(n.id=t.id)}}))}e.exports={exec:function(e,t,n,i,r,o,a,s){var c;return e.structure&&"Document"===e.structure.type&&(e.structure.id="masterPage",e.structure.dataQuery="#masterPage",e.structure.componentType="mobile.core.components.MasterPage",function(e){return e.masterPage&&"masterPage"===e.masterPage.id}(c=e.data.document_data)||(c.SITE_STRUCTURE?c.masterPage=c.SITE_STRUCTURE:c.masterPage=c.masterPage||{},c.masterPage.id="masterPage"),delete c.SITE_STRUCTURE,T(e),d(e),v(e)),e}}},function(e,t,n){"use strict";var i=n(0);e.exports=function e(t,n){i.forEach(t,(function(t){i.forEach(n,(function(e){e(t)})),t.components&&e(t.components,n)}))}},function(e,t,n){"use strict";var i=n(0);function r(e){var t=i.pickBy(e,{type:"CustomMenu"}),n=i.pickBy(e,{type:"BasicMenuItem"});i.forOwn(t,(function(t,n){delete e[n]})),i.forOwn(n,(function(t,n){delete e[n],t.link&&delete e[t.link.replace("#","")],t.iconRef&&delete e[t.iconRef.replace("#","")]}))}e.exports={exec:function(e,t,n,o,a,s,c,u){s&&function(e){return"Page"===i.get(e,"structure.type")}(e)&&u.isExperimentOpen("dm_removeMenuDataFromPageJson")&&(r(e.data.document_data),i.forOwn(e.translations,(function(e){return r(e.data.document_data)})))}}},function(e,t,n){"use strict";var i=n(0),r=n(20),o=0,a=0;function s(e,t){return i.map(e,(function(e){return function(e,t){var n="bmi"+o++,i=e[m(t.refId)];return e[n]={id:n,label:i.title,isVisible:!i.hidePage,isVisibleMobile:void 0!==i.mobileHidePage?!i.mobileHidePage:!i.hidePage,items:s(t.items,e),link:c(e,t.refId),type:"BasicMenuItem",metaData:{}},"#".concat(n)}(t,e)}))}function c(e,t){var n="pglk"+a++;return e[n]={id:n,type:"PageLink",pageId:t,metaData:{}},"#".concat(n)}function u(e,t){return t&&e[m(t)]}function p(e,t){var n=u(e,t.link);return"PageLink"===i.get(n,"type")?n:void 0}function d(e,t){return!!u(e,t)}function l(e,t){return t.link&&("#CUSTOM_MENU_HEADER"===t.link||!d(e,t.link)||function(e,t){var n=p(e,t);return n&&!u(e,n.pageId)}(e,t))}function m(e){return i.replace(e,"#","")}function f(e,t){var n=e.CUSTOM_MAIN_MENU.items,r=i(e).filter({type:"BasicMenuItem"}).map("link").compact().map(m).map((function(t){return e[t]})).map("pageId").compact().map(m).value(),a=i(e).filter((function(e){return"Page"===e.type&&e.managingAppDefId})).map("id").value(),s=i.difference(t,r),u=i.difference(s,a);i.forEach(u,(function(t){var i,r,a,s;e[t]&&!e[t].isPopup&&n.push((a="bmi"+o++,s=(i=e)[r=t],i[a]={id:a,label:s.title,isVisible:!s.hidePage,isVisibleMobile:void 0!==s.mobileHidePage?!s.mobileHidePage:!s.hidePage,items:[],link:c(i,"#".concat(r)),type:"BasicMenuItem",metaData:{}},"#".concat(a)))}))}function y(e,t,n){i(t).filter({type:"BasicMenuItem"}).filter("link").forEach((function(i){var r=m(i.link),o=t[r]||e[r];o&&("PageLink"!==o.type||n[m(o.pageId)])||(delete t[r],delete i.link)}))}function g(e,t){var n=i.filter(e,(function(e){return e.id&&0===e.id.indexOf(t)})),r=-1;return i.forEach(n,(function(e){var n=Number(e.id.replace(t,""));n>r&&(r=n)})),++r}e.exports={exec:function(e,t){if(function(e){return"Page"===i.get(e,"structure.type")}(e))!function(e){i(e.data.document_data).filter({type:"Menu"}).map("id").forEach((function(t){delete e.data.document_data[t]}))}(e);else{r.exec(e,t);var n=e.data.document_data;o=g(n,"bmi"),a=g(n,"pglk"),e.data.document_data.CUSTOM_MAIN_MENU||(e.data.document_data.CUSTOM_MAIN_MENU={id:"CUSTOM_MAIN_MENU",items:s(e.data.document_data.MAIN_MENU.items,e.data.document_data),name:"Custom Main Menu",type:"CustomMenu",metaData:{}}),e.data.document_data.CUSTOM_MENUS?i.includes(e.data.document_data.CUSTOM_MENUS.menus,"#CUSTOM_MAIN_MENU")||e.data.document_data.CUSTOM_MENUS.menus.push("#CUSTOM_MAIN_MENU"):e.data.document_data.CUSTOM_MENUS={id:"CUSTOM_MENUS",menus:["#CUSTOM_MAIN_MENU"],type:"CustomMenusCollection",metaData:{}},f(n,t),n.CUSTOM_MAIN_MENU.items=i.uniq(n.CUSTOM_MAIN_MENU.items),function e(t,n){n.items=i.filter(n.items,(function(e){return d(t,e)})),i.forEach(n.items,(function(n){var i=u(t,n);l(t,i)&&function(e){delete e.link}(i),e(t,i)}))}(n,n.CUSTOM_MAIN_MENU),e.data.document_data.MAIN_MENU.items.length>0&&(e.data.document_data.MAIN_MENU.items=[]);var c=e.data.document_data.CUSTOM_MAIN_MENU;(function(e,t){var n={};function r(r){var o,a,s,c,d=e.data.document_data,l=u(d,r);return!l.link||!p(d,l)||(s=u(d,l.link),c=i.get(s,"pageId"),i.includes(t,m(c))&&(o=u(d,l.link),a=i.get(o,"pageId"),!(i.has(n,m(a))||(n[m(a)]=r,0))))}return{removeInvalidSubMenues:function t(n){var o=n.items;n.items=i.filter(n.items,r);var a=i.difference(o,n.items);i.isEmpty(a)||i(a).map((function(t){return u(e.data.document_data,t)})).forEach((function(e){if(!i.isEmpty(e.items)){var t=i.filter(e.items,r);n.items=i.concat(n.items,t)}})),i(n.items).map((function(t){return u(e.data.document_data,t)})).forEach(t)}}})(e,t).removeInvalidSubMenues(c),function(e,t){var n=i.mapKeys(t);y(e.data.document_data,e.data.document_data,n),i.forOwn(e.translations,(function(t){return y(e.data.document_data,t.data.document_data,n)}))}(e,t)}}}},function(e,t,n){"use strict";var i=n(0);function r(e){return function e(t){return i.reduce(t.items,(function(t,n){return t.push(n.refId),n.items&&n.items.length?t.concat(e(n)):t}),[])}(e.MAIN_MENU)}function o(e,t){var n=i.findIndex(e.items,{refId:t});if(n>=0)!function(e,t){var n=e.items[t];n.items&&n.items.length>0&&i.forEach(n.items,(function(t,i){e.items.push(t),delete n.items[i]})),n.items=[],e.items.splice(t,1)}(e,n);else{var r=function(e,t){var n={};return i.find(e.items,(function(e,r){return n.topIndex=r,i.find(e.items,(function(e,i){if(e.refId===t)return n.subIndex=i,!0}))})),n}(e,t);e.items[r.topIndex].items.splice(r.subIndex,1)}}function a(e){return e.replace("#","")}function s(e,t){return!e[a(t)]}function c(e,t){var n=r(e);!function(e){var t=i.get(e,["CUSTOM_MAIN_MENU","items"]);t&&i.some(t,i.partial(s,e))&&(delete e.CUSTOM_MAIN_MENU,delete e.CUSTOM_MENUS)}(e),function(e,t){var n=e.MAIN_MENU;i.forEach(t,(function(e){e||o(n,e)})),i.pull(t,"",void 0)}(e,n),function(e,t,n){i.forEach(t,(function(t){i.includes(n,t.slice(1))||o(e.MAIN_MENU,t)}))}(e,n,t),function(e,t,n){var r=e.MAIN_MENU,o=0===r.items.length;if(!!e.CUSTOM_MAIN_MENU){if(o)return;delete e.CUSTOM_MAIN_MENU,delete e.CUSTOM_MENUS}i.forEach(n,(function(e){if(!i.includes(t,"#".concat(e))){t.push("#".concat(e));var n={items:[],refId:"#".concat(e)};r.items.push(n)}}))}(e,n,t),function(e,t){e&&e.mainPage&&!i.includes(t,a(e.mainPage))&&(e.mainPage="#".concat(t[0]))}(e.masterPage,t)}e.exports={exec:function(e,t){var n=e.data.document_data;(function(e){return"Document"===i.get(e,"structure.type")})(e)&&(n.MAIN_MENU=n.MAIN_MENU||{items:[],type:"Menu",id:"MAIN_MENU",metaData:{}},t&&c(n,t))}}},function(e,t,n){"use strict";var i=n(0);e.exports={exec:function(e,t,n,r,o,a,s,c){if(function(e){return"Document"===i.get(e,["structure","type"])}(e)&&c.isExperimentOpen("dm_fixMissingRefsToCustomMenus")){var u=e.data.document_data,p=i(u).pickBy({type:"CustomMenu"}).keys().map((function(e){return"#".concat(e)})).value(),d=u.CUSTOM_MENUS,l=i.filter(d.menus,(function(e){return u[e.replace("#","")]})),m=i.difference(p,l);d.menus=l.concat(m)}}}},function(e,t,n){"use strict";var i=n(2).createHelperAndMigratePage,r={"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":o,"wysiwyg.viewer.components.menus.DropDownMenu":o,"wysiwyg.viewer.components.mobile.TinyMenu":function(e,t,n,i){var r=this.getComponentData(e,i);r&&"TinyMenu"===r.type||(delete i.dataQuery,this.setComponentData(e,i,{menuRef:"#CUSTOM_MAIN_MENU",type:"TinyMenu"},t))}};function o(e,t,n,i){var r=this.getComponentData(e,i);r&&"CustomMenuDataRef"===r.type||(delete i.dataQuery,this.setComponentData(e,i,{menuRef:"#CUSTOM_MAIN_MENU",type:"CustomMenuDataRef"},t))}e.exports={exec:i(r)}},function(e,t,n){"use strict";var i=n(3),r={"mobile.core.skins.InlineSkin":"skins.core.VerySimpleSkin","mobile.core.skins.TwitterTweetSkin":"skins.core.TwitterTweetSkin","mobile.core.skins.ButtonSkin":"skins.core.ButtonSkin","mobile.core.skins.ContactItemSkin":"skins.core.ContactItemSkin","mobile.core.skins.ContactListSkin":"skins.core.ContactListSkin","mobile.core.skins.FacebookCommentSkin":"skins.core.FacebookCommentSkin","mobile.core.skins.GlobalMenuSkin":"skins.core.GlobalMenuSkin","mobile.core.skins.GooglePlusOneSkin":"skins.core.GooglePlusOneSkin","mobile.core.skins.HeaderSkin":"skins.core.HeaderSkin","mobile.core.skins.HomeButtonSkin":"skins.core.HomeButtonSkin","mobile.core.skins.ImageNewSkin":"skins.core.ImageNewSkin","mobile.core.skins.ImageSkin":"skins.core.ImageSkin","mobile.core.skins.MenuButtonSkin":"skins.core.MenuButtonSkin","mobile.core.skins.NetworkItemSkin":"skins.core.NetworkItemSkin","mobile.core.skins.NetworkListSkin":"skins.core.NetworkListSkin","mobile.core.skins.PageTitleSkin":"skins.core.PageTitleSkin","mobile.core.skins.PhotoFullScreenSkin":"skins.core.PhotoFullScreenSkin","mobile.core.skins.PhotoGalleryFullScreenDefaultSkin":"skins.core.PhotoGalleryFullScreenDefaultSkin","mobile.core.skins.PhotoGalleryGridDefaultSkin":"skins.core.PhotoGalleryGridDefaultSkin","mobile.core.skins.PhotoSkin":"skins.core.PhotoSkin","mobile.core.skins.RichTextImageSkin":"skins.core.RichTextImageSkin","mobile.core.skins.RichTextSkin":"skins.core.RichTextSkin","mobile.core.skins.ServiceItemSkin":"skins.core.ServiceItemSkin","mobile.core.skins.ServiceListSkin":"skins.core.ServiceListSkin","mobile.core.skins.SimpleButtonSkin":"skins.core.SimpleButtonSkin","mobile.core.skins.SiteNavigationMenuSkin":"skins.core.SiteNavigationMenuSkin","mobile.core.skins.TwitterFollowSkin":"skins.core.TwitterFollowSkin","mobile.core.skins.FacebookLikeSkin":"skins.core.FacebookLikeSkin","skins.viewer.gallerymatrix.PolaroidCustomHeightSkin":"wysiwyg.viewer.skins.gallerymatrix.PolaroidCustomHeightSkin","skins.viewer.gallerymatrix.PolaroidDisplayerCustomHeightSkin":"wysiwyg.viewer.skins.gallerymatrix.PolaroidDisplayerCustomHeightSkin","skins.viewer.gallerymatrix.TextBottomCustomHeightSkin":"wysiwyg.viewer.skins.gallerymatrix.TextBottomCustomHeightSkin","skins.viewer.gallerymatrix.TextBottomDisplayerCustomHeightSkin":"wysiwyg.viewer.skins.gallerymatrix.TextBottomDisplayerCustomHeightSkin","skins.viewer.galleryslider.SliderGalleryScotchTapeSkin":"wysiwyg.viewer.skins.galleryslider.SliderGalleryScotchTapeSkin","skins.viewer.galleryslider.SliderGalleryIronSkin":"wysiwyg.viewer.skins.galleryslider.SliderGalleryIronSkin","skins.viewer.galleryslider.SliderDisplayerIronSkin":"wysiwyg.viewer.skins.galleryslider.SliderDisplayerIronSkin","skins.viewer.galleryslider.SliderDisplayerScotchTapeSkin":"wysiwyg.viewer.skins.galleryslider.SliderDisplayerScotchTapeSkin","wysiwyg.viewer.skins.gallerymatrix.MatrixGallerySeparateTextBoxSkin":"wysiwyg.common.components.matrixgallery.viewer.skins.MatrixGallerySeparateTextBoxSkin","wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTextOnCenterSkin":"wysiwyg.common.components.matrixgallery.viewer.skins.MatrixGalleryTextOnCenterSkin","wysiwyg.viewer.skins.dropmenu.TextOnlyMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.TextOnlyMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.TextSeparatorsMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.TextSeparatorsMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SolidColorMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SolidColorMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.ShinyMenuINSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.ShinyMenuIButtonSkin","wysiwyg.viewer.skins.dropmenu.ShinyMenuIINSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.ShinyMenuIIButtonSkin","wysiwyg.viewer.skins.dropmenu.OverlineMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.OverlineMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SeparateBasicMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateBasicMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SeparateShinyIMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateShinyIMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SeparateShinyIIMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateShinyIIMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.LinesMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.LinesMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SeparateLinesMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateLinesMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.PointerMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.PointerMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.RibbonsMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.RibbonsMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.VerticalRibbonsMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.VerticalRibbonsMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.IndentedMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.IndentedMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SeparateIndentedMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateIndentedMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.ArrowRightMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.ArrowRightMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SloppyBorderMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SloppyBorderMenuButtonSkin","wysiwyg.viewer.skins.menu.ShinyMenuISkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.ShinyMenuIIButtonSkin","wysiwyg.viewer.skins.menu.ShinyMenuIISkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.ShinyMenuIIButtonSkin","wysiwyg.viewer.skins.menu.TextOnlyMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.TextOnlyMenuButtonBgFixSkin","wysiwyg.viewer.skins.menu.TextSeparatorsMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.TextSeparatorsMenuButtonSkin","wysiwyg.viewer.skins.menu.SolidColorMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SolidColorMenuButtonSkin","wysiwyg.viewer.skins.menu.OverlineMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.OverlineMenuButtonHorizontalMenuAdaptationSkin","wysiwyg.viewer.skins.menu.SeparateBasicMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateBasicMenuButtonSkin","wysiwyg.viewer.skins.menu.SeparateShinyIMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateShinyIMenuButtonSkin","wysiwyg.viewer.skins.menu.SeparateShinyIIMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateShinyIIMenuButtonBorderRadiusFixSkin","wysiwyg.viewer.skins.menu.LinesMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.LinesMenuButtonBorderRadiusFixSkin","wysiwyg.viewer.skins.menu.SeparateLinesMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateLinesMenuButtonHorizontalMenuAdaptationSkin","wysiwyg.viewer.skins.menu.PointerMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.PointerMenuButtonHorizontalMenuAdaptationSkin","wysiwyg.viewer.skins.menu.RibbonsMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.RibbonsMenuButtonSkin","wysiwyg.viewer.skins.menu.IndentedMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.IndentedMenuButtonSkin","wysiwyg.viewer.skins.menu.SeparateIndentedMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateIndentedMenuButtonSkin","wysiwyg.viewer.skins.menu.ArrowRightMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.ArrowRightMenuButtonSkin","wysiwyg.viewer.skins.menu.SloppyBorderMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SloppyBorderMenuButtonSkin","tpa.viewer.skins.TPAMasonrySkin":"wysiwyg.viewer.skins.TPAMasonrySkin","tpa.viewer.skins.TPA3DCarouselSkin":"wysiwyg.viewer.skins.TPA3DCarouselSkin","tpa.viewer.skins.TPA3DGallerySkin":"wysiwyg.viewer.skins.TPA3DGallerySkin","tpa.viewer.skins.TPAAccordionSkin":"wysiwyg.viewer.skins.TPAAccordionSkin","tpa.viewer.skins.TPACollageSkin":"wysiwyg.viewer.skins.TPACollageSkin","tpa.viewer.skins.TPAEcomGallerySkin":"wysiwyg.viewer.skins.TPAEcomGallerySkin","tpa.viewer.skins.TPAFreestyleSkin":"wysiwyg.viewer.skins.TPAFreestyleSkin","tpa.viewer.skins.TPAHoneycombSkin":"wysiwyg.viewer.skins.TPAHoneycombSkin","tpa.viewer.skins.TPAImpressSkin":"wysiwyg.viewer.skins.TPAImpressSkin","tpa.viewer.skins.TPAStripShowcaseSkin":"wysiwyg.viewer.skins.TPAStripShowcaseSkin","tpa.viewer.skins.TPAStripSlideshowSkin":"wysiwyg.viewer.skins.TPAStripSlideshowSkin","tpa.viewer.skins.TPAThumbnailsSkin":"wysiwyg.viewer.skins.TPAThumbnailsSkin","tpa.common.skins.TPAPreloaderSkin":"wysiwyg.viewer.skins.TPAPreloaderSkin","tpa.common.skins.TPAUnavailableMessageOverlaySkin":"wysiwyg.viewer.skins.TPAUnavailableMessageOverlaySkin"};function o(e){e.skin&&r[e.skin]&&(e.skin=r[e.skin])}function a(e,t){var n,i,r=e[t]||e.components;if(r)for(n=0;n<r.length;n++)o(i=r[n]),a(i,t)}e.exports={exec:function(e){var t=e.structure;t&&(a(t,"children"),a(t,"mobileComponents"),o(t));var n=e.data&&e.data.theme_data;n&&i.forEachStyle(n,(function(e){o(e)}))}}},function(e,t,n){"use strict";var i=n(0),r=n(3);function o(e,t,n){return e[n.replace("llt_","llf_")]=t,e}function a(e){e.style.properties=i.reduce(e.style.properties,o,{}),e.style.propertiesSource=i.reduce(e.style.propertiesSource,o,{})}var s={"*":function(e){"THEME_DATA"!==e.id&&(e.style||(e.style={properties:{},propertiesSource:{},groups:{}}))},"wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormLineLayoutFlat":a,"wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormLineLayoutTransparentWithIcon":a};e.exports={exec:function(e){var t=e.data&&e.data.theme_data;e.structure&&"Document"===e.structure.type&&(!function(e){if(!e.v2){var t={type:"TopLevelStyle",id:"v2",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{brd:"color_15",brw:"0px",rd:"0px",shd:"0 1px 4px rgba(0, 0, 0, 0.6);"},propertiesSource:{brd:"theme",brw:"value",rd:"value",shd:"value"},groups:{}},componentClassName:"",pageId:"",compId:"",styleType:"system",skin:"wysiwyg.viewer.skins.video.VideoDefault"};e.v2=i.cloneDeep(e.vl)||t}}(t),function(e){r.forEachStyle(e,(function(e){s["*"](e),s[e.skin]&&s[e.skin](e)}))}(t),i.forEach(t,(function(e){!function(e){e.style&&i.forEach(e.style.properties,(function(e,t,n){"string"==typeof e&&(n[t]=e.replace(/(\d)x/g,"$1px"))}))}(e)})))}}},function(e,t,n){"use strict";var i=n(0);function r(e){return e&&"wysiwyg.viewer.components.BgImageStrip"===e.componentType}function o(e,t,n){if(r(n)){var i=function(e){return e&&e.dataQuery&&e.dataQuery.replace("#","")}(n),o=i&&t[i];o&&(o.title=o.title||"",function(e){return"add_image_thumb.png"===e.uri.slice(0-"add_image_thumb.png".length)}(o)||(e[n.id]=i))}}function a(e,t,n){if(r(n)){var i=e[n.id];i?n.dataQuery="#".concat(i):delete n.dataQuery}}function s(e,t){i.forEach(e,(function(e){t(e),s(e.components,t)}))}e.exports={exec:function(e){var t=e.structure,n=t&&(t.components||t.children),i=t&&t.mobileComponents;if(n){var r={};s(n,o.bind(null,r,e.data.document_data)),s(n,a.bind(null,r,e.data.document_data)),s(i,a.bind(null,r,e.data.document_data))}}}},function(e,t,n){"use strict";var i=n(0);function r(e,t){"wysiwyg.viewer.components.ItunesButton"===t.componentType&&(t.layout.height=Math.round(t.layout.width/2.75))}function o(e,t){return e.data.component_properties[t.propertyQuery]}function a(e,t){return t.dataQuery&&e.data.document_data[t.dataQuery.replace("#","")]}function s(e,t,n){e.data.component_properties[t.propertyQuery]=n}function c(e,t,n,i){var r=i.getUniqueId("dataItem","-");t.dataQuery="#".concat(r),n.id=r,e.data.document_data[r]=n}function u(e){if(e.components.length>0){var t=i.map(e.components,(function(e){return e.layout.y+e.layout.height}));return i.max(t)}return 0}function p(e){var t=i.find(e.structure.children,{id:"PAGES_CONTAINER"});return t.layout.y+t.layout.height}function d(e,t){"SITE_FOOTER"!==t.id||t.layout||(t.layout={anchors:[],fixedPosition:!1,height:u(t),rotationInDegrees:0,scale:1,width:320,x:0,y:p(e)})}function l(e,t,n){if(!a(e,t))switch(t.componentType){case"wysiwyg.viewer.components.svgshape.SvgShape":c(e,t,{link:null,type:"SvgShape"},n);break;case"wysiwyg.viewer.components.WFacebookComment":return void c(e,t,{type:"WFacebookComment",urlFormat:"hashBang"},n);case"wysiwyg.viewer.components.WFacebookLike":return void c(e,t,{type:"WFacebookLike",urlFormat:"hashBang"},n)}}function m(e,t){var n=a(e,t);if(n)switch(t.componentType){case"wysiwyg.viewer.components.ClipArt":return void(n.title="");case"wysiwyg.viewer.components.FacebookShare":case"wysiwyg.viewer.components.VKShareButton":case"wysiwyg.common.components.pinterestpinit.viewer.PinterestPinIt":case"wysiwyg.viewer.components.WTwitterTweet":case"wysiwyg.viewer.components.WFacebookComment":case"wysiwyg.viewer.components.WFacebookLike":return void(n.urlFormat=n.urlFormat||"hashBang")}}function f(e,t,n){"wysiwyg.common.components.anchor.viewer.Anchor"===n.componentType&&(n.skin="AutoWidthAnchorSkin",delete n.styleId,e?n.layout.width=e:n.layout.docked={left:{vw:0,px:0},right:{vw:0,px:0}})}function y(e,t){if(!o(e,t))switch(t.componentType){case"wysiwyg.viewer.components.menus.DropDownMenu":s(e,t,{alignButtons:"center",alignText:"center",sameWidthButtons:!1,moreButtonLabel:"More",moreItemHeight:15,stretchButtonsToMenuWidth:!0,type:"HorizontalMenuProperties"});break;case"wysiwyg.viewer.components.mobile.TinyMenu":t.propertyQuery="TINY_MENU",s(e,t,{direction:"left",type:"TinyMenuProperties",id:"TINY_MENU",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1}})}}function g(e,t,n){e.properties[n.id]=o(t,n)}function v(e,t,n){!o(t,n)&&e.properties[n.id]&&s(t,n,e.properties[n.id])}function w(e,t){var n=o(e,t);if(t.propertyQuery&&n)switch(t.componentType){case"wysiwyg.viewer.components.WFacebookLike":case"wysiwyg.viewer.components.PayPalButton":case"wysiwyg.viewer.components.GoogleMap":n.language||(n.language="en");break;case"wysiwyg.viewer.components.WRichText":"WRichTextProperties"!==n.type?delete t.propertyQuery:0===n.minHeight&&(n.packed=!0)}}function h(e,t,n){i.forEach(t,(function(t){i.forEach(n,(function(n){n(e,t)})),t.components&&h(e,t.components,n)}))}function k(e,t,n){e.pageContainsStructuresWithoutJsonAnchors=e.pageContainsStructuresWithoutJsonAnchors||!n.layout||!n.layout.anchors}function S(e,t){t.layout&&delete t.layout.anchors}e.exports={exec:function(e,t,n,o,a,s,c,u){var p=e.structure;if(p){var b={properties:{}},T=p.components||p.children,I=p.mobileComponents,_=u.dataFixerUtils.uniqueIdGenerator;T&&function(e,t,n,o){h(e,n,[r,i.partial(l,i,i,o),y,w,m,i.partial(f,null),i.partial(g,t)])}(e,b,T,_),I&&function(e,t,n,o){var a={pageContainsStructuresWithoutJsonAnchors:!1};h(e,n,[r,i.partial(l,i,i,o),y,w,m,d,i.partial(f,320),i.partial(v,t),i.partial(k,a)]),a.pageContainsStructuresWithoutJsonAnchors&&h(e,n,[S])}(e,b,I,_)}}}},function(e,t,n){"use strict";var i=n(0),r=["GalleryExpandProperties","MatrixGalleryProperties","PaginatedGridGalleryProperties","SliderGalleryProperties","SlideShowGalleryProperties"];function o(e){return(i.isUndefined(e.galleryImageOnClickAction)||"unset"===e.galleryImageOnClickAction)&&(!1===e.expandEnabled?e.galleryImageOnClickAction="disabled":e.galleryImageOnClickAction="zoomMode"),e}e.exports={exec:function(e){var t,n,a;t=e.data.component_properties,n=r,a=o,i(t).pickBy((function(e){return i.includes(n,e.type)})).mapValues(a).value()}}},function(e,t,n){"use strict";var i=n(0),r=n(29);function o(e){return["behaviors_data",e.behaviorQuery,"items"]}function a(e){return i.has(e,"behaviors_data")}function s(e,t,n){var r=JSON.stringify(e);a(n)?i.set(n,o(t),r):t.behaviors=r}function c(e,t){var n=[],r=function(e,t){return a(t)?i.get(t,o(e),"[]"):e.behaviors||"[]"}(e,t),c=JSON.parse(r),u=i.isArray(c),p=u?i.compact(c):c;if(i.isEmpty(p))a(t)?(i.unset(t,["behaviors_data",e.behaviorQuery]),delete e.behaviorQuery):delete e.behaviors;else{if(u){var d=p.length!==c.length;return i.forEach(c,(function(t){var n=i.get(t,"action.sourceId");n&&n!==e.id&&(t.action.sourceId=e.id,d=!0)})),void(d&&s(p,e,t))}i.forEach(c,(function(e,t){i.forEach(e,(function(e,r){i.forEach(e,(function(e){var o=i.assign({targetId:r,action:t},e);"screenIn"!==t&&"pageIn"!==t||(o.targetId=""),n.push(o)}))}))})),s(n,e,t)}}function u(e,t){i.forEach(e,(function(e){c(e,t),e.components&&u(e.components,t)}))}e.exports={exec:function(e,t,n,i,o,a,s,c){r.exec(e,t,n,i,o,a,s,c);var p=e.structure;p&&(p.components&&u(p.components,e.data),p.mobileComponents&&u(p.mobileComponents,e.data),p.children&&u(p.children,e.data))}}},function(e,t,n){"use strict";var i=n(0),r=n(1),o=n(7);e.exports={exec:function(e,t,n,a,s,c,u,p){var d=i.get(e,"data"),l=i.get(e,"structure");d.behaviors_data=d.behaviors_data||{};var m,f,y=(m=l,f=r.dataUtils.getAllCompsInStructure(m,!1),i.pickBy(f,"behaviors")),g=function(e,t){var n=r.dataUtils.getAllCompsInStructure(e,!0);return i.pickBy(n,(function(e){return t[e.id]}))}(l,y),v=p.dataFixerUtils.uniqueIdGenerator;i.forEach(y,(function(e){var t=o.createBehaviorsDataItem(e.behaviors,v);!function(e,t,n){e.behaviorQuery=t.id,n&&(n.behaviorQuery=e.behaviorQuery)}(e,t,g[e.id]),delete e.behaviors,i.set(d,["behaviors_data",t.id],t)}))}}},function(e,t,n){"use strict";var i=n(0);e.exports={exec:function(e){var t=i.get(e,"data");t.connections_data=t.connections_data||{}}}},function(e,t,n){"use strict";var i=n(0),r={"wysiwyg.viewer.skins.line.FadeLine":{width:90},"wysiwyg.viewer.skins.line.FadeNotchBottomLine":{width:60},"wysiwyg.viewer.skins.line.FadeNotchTopLine":{width:60},"wysiwyg.viewer.skins.line.ShadowBottomLine":{width:200},"wysiwyg.viewer.skins.line.ShadowTopLine":{width:200}};function o(e){i.forEach(e,(function(e){if(i.has(r,e.skin)){var t=r[e.skin];e.layout=i.mapValues(e.layout,(function(e,n){return t[n]?Math.max(e,t[n]):e}))}e.components&&o(e.components)}))}e.exports={exec:function(e){var t=e.structure;t&&(t.components&&o(t.components),t.children&&o(t.children),t.mobileComponents&&o(t.mobileComponents))}}},function(e,t,n){"use strict";var i=n(0);function r(e,t,n){i.forOwn(t,(function(t){"GeoMap"!==t.type||i.get(t,"locations")||function(e,t,n){var r=n.dataFixerUtils.uniqueIdGenerator.getUniqueId("dataItem","-");t.locations=["#".concat(r)],t.defaultLocation=0,e.data.document_data[t.id]=i.omit(t,"address","addressInfo","latitude","longitude"),e.data.document_data[r]={id:r,address:t.address,latitude:t.latitude,longitude:t.longitude,title:t.addressInfo,description:"",link:null,linkTitle:"",pinIcon:"https://static.parastorage.com/services/santa-resources/resources/editor/designPanel/panelTypes/default_pin_icon.png",pinColor:"",type:"GeoMapLocation"}}(e,t,n)}))}function o(e,t){i.forOwn(t,(function(e){"GoogleMapProperties"===e.type&&isNaN(e.zoom)&&function(e,t){t.zoom=14}(0,e)}))}e.exports={exec:function(e,t,n,i,a,s,c,u){var p=e.data.document_data,d=e.data.component_properties;p&&(r(e,p,u),o(0,d))}}},function(e,t,n){"use strict";var i=n(0);e.exports={exec:function(e){var t=e.data.document_data;t&&i(t).filter({type:"Page"}).forEach((function(e){"1.0"===i.get(e.metaData,"schemaVersion")&&(function(e){return e.isLandingPage&&!e.isMobileLandingPage}(e)&&function(e){e.isMobileLandingPage=!0}(e),i.set(e.metaData,"schemaVersion","2.0"))}))}}},function(e,t,n){"use strict";var i=n(0);e.exports={exec:function(e){var t,n,r=e.structure;if(r&&r.components&&!i.isEmpty(r.components)&&(t=r.components,n=i.head(t),i.get(n,"layout.anchors"))){var o,a=i.maxBy(r.components,(function(e){var t=-1*Number.MAX_VALUE;return e.layout&&i.isNumber(e.layout.y)&&i.isNumber(e.layout.height)&&(t=e.layout.y+e.layout.height),t}));a.layout&&a.layout.anchors&&(o=i.find(a.layout.anchors,{type:"BOTTOM_PARENT"})),o||(a.layout=a.layout||{},a.layout.anchors=a.layout.anchors||[],a.layout.anchors.push({distance:0,type:"BOTTOM_PARENT",targetComponent:e.structure.id,locked:!0,originalValue:e.structure.layout.height,topToTop:a.layout.y}))}}}},function(e,t,n){"use strict";var i=n(0),r=n(8),o={"wysiwyg.common.components.anchor.viewer.Anchor":!0,"wysiwyg.common.components.subscribeform.viewer.SubscribeForm":!0,"wysiwyg.common.components.pinitpinwidget.viewer.PinItPinWidget":!0,"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":!0,"wixapps.integration.components.AppPart":!0,"wixapps.integration.components.AppPart2":!0,"wixapps.integration.components.common.minipart":!0,"wysiwyg.common.components.onlineclock.viewer.OnlineClock":!0,"wysiwyg.common.components.weather.viewer.Weather":!0,"wysiwyg.common.components.skypecallbutton.viewer.SkypeCallButton":!0,"wysiwyg.common.components.spotifyfollow.viewer.SpotifyFollow":!0,"wysiwyg.common.components.spotifyplayer.viewer.SpotifyPlayer":!0,"wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton":!0,"wysiwyg.viewer.components.ContactForm":!0,"wysiwyg.viewer.components.FacebookShare":!0,"wysiwyg.viewer.components.FiveGridLine":!0,"wysiwyg.viewer.components.FlickrBadgeWidget":!0,"wysiwyg.viewer.components.ItunesButton":!0,"wysiwyg.viewer.components.LinkBar":!0,"wysiwyg.viewer.components.PayPalButton":!0,"wysiwyg.viewer.components.PinterestFollow":!0,"wysiwyg.viewer.components.VKShareButton":!0,"wysiwyg.viewer.components.WFacebookComment":!0,"wysiwyg.viewer.components.WGooglePlusOne":!0,"wysiwyg.viewer.components.mobile.TinyMenu":!0},a={"wysiwyg.common.components.backtotopbutton.viewer.BackToTopButton":!0,"wysiwyg.viewer.components.tpapps.TPAGluedWidget":!0,"mobile.core.components.Page":!0,"wixapps.integration.components.AppPage":!0};function s(e){a[e.componentType]&&(e.layout.anchors=[])}function c(e){return e.layout&&e.layout.y+e.layout.height}function u(e){return e.layout&&e.layout.anchors||[]}function p(e,t,n){if("BOTTOM_TOP"===e.type){var r=u(n[e.targetComponent]);i.remove(r,{targetComponent:t.id});var o=i.filter(r,{type:"TOP_TOP"}),a=c(t)+10;i.forEach(o,(function(e){n[e.targetComponent]&&function e(t,n,r,o,a){if(!(a[t.id]||c(t)>r)){a[t.id]=!0;var s=u(t);i.remove(s,(function(t){if(t.targetComponent===n.id)return!0;if("BOTTOM_PARENT"!==t.type){if(!o[t.targetComponent])return!0;e(o[t.targetComponent],n,r,o,a)}return!1}))}}(n[e.targetComponent],t,a,n,{})}))}}function d(e,t,n){var r,s,c,u,p,d=t.id,l=n[e.targetComponent];if("BOTTOM_PARENT"===e.type&&(l=e.targetComponent===d?t:null),!l)return!1;if("BOTTOM_BOTTOM"===e.type&&o[l.componentType])return!1;if("BOTTOM_PARENT"!==e.type&&(a[l.componentType]||"wysiwyg.viewer.components.HeaderContainer"===l.componentType&&l.layout&&!0===l.layout.fixedPosition))return!1;if(l.layout&&i.isNumber(l.layout.height)&&i.isNumber(l.layout.y)){var m=l.layout,f=(s=m.height,c=m.width,u=m.rotationInDegrees,p=(u||0)*Math.PI/180,parseInt(Math.abs(c*Math.sin(p))+Math.abs(s*Math.cos(p)),10)),y=function(e,t,n){return parseInt(e-(n-t)/2,10)}(m.y,m.height,f);r="BOTTOM_PARENT"===e.type||"BOTTOM_BOTTOM"===e.type?f:y}else r=0;return e.originalValue=Math.min(e.originalValue,r),!0}function l(e,t){return function(e,t){!!t&&s(e)}(e,t),function e(t,n){var r=n?t[n]:t.components;if(i.isEmpty(r))return;var o=i.transform(r,(function(e,t){e[t.id]=t}),{});(function(e){i.forEach(e,(function(t){var n=u(t);n=i.reject(n,{type:"BOTTOM_PARENT"}),i.remove(n,(function(t){return!i.some(e,{id:t.targetComponent})}))}))})(r),i.forEach(r,(function(n){var r=u(n);!function(e){i.remove(e,(function(e){return null===e.distance||isNaN(e.distance)}))}(r),s(n),function(e,t){"Document"===e.type&&i.forEach(t,(function(e){"SITE_STRUCTURE"===e.targetComponent&&(e.targetComponent="masterPage")}))}(t,r),function(e,t,n){t=i.reject(t,{type:"BOTTOM_PARENT"}),i.forEach(t,(function(t){var r=n[t.targetComponent];if(r){var o=i.filter(u(r),{targetComponent:e.id,type:t.type});i.forEach(o,(function(n){var o=e.layout.y<r.layout.y?r:e,a=e.layout.y<r.layout.y?n:t;i.remove(o.layout.anchors,(function(e){return e===a}))}))}}))}(n,r,o),i.remove(r,(function(e){!function(e){"TOP_TOP"===e.type&&(e.locked=!0)}(e);var i=d(e,t,o);return i&&p(e,n,o),!i})),e(n)}))}(e,t)}function m(e){var t=i.head(e);return!!i.get(t,"layout.anchors")}e.exports={exec:function(e){var t=e.structure,n="components";t&&("Document"===t.type&&((t=i.clone(e.structure)).id="masterPage",e.structure=t,n="children"),m(t[n])&&l(t,n),m(t.mobileComponents)&&(l(t,"mobileComponents"),r.fixBottomTopBottomBottomCycles(t.mobileComponents)))}}},function(e,t,n){"use strict";var i=n(0);function r(e){if(!e.rotationInDegrees)return e.height;var t=e.rotationInDegrees*Math.PI/180;return parseInt(Math.abs(e.width*Math.sin(t))+Math.abs(e.height*Math.cos(t)),10)}function o(e){if(!e.rotationInDegrees)return e.y;var t=r(e);return parseInt(e.y-(t-e.height)/2,10)}function a(e){return i.maxBy(e,(function(e){return o(e.layout)}))}function s(e){if(e&&!i.isEmpty(e)&&((n=e).length&&n[0].layout&&n[0].layout.anchors)){var t=function(e){var t={};return i.forEach(e,(function(e){switch(e.id){case"SITE_HEADER":return t.header=e,!(t.footer&&t.pagesContainer);case"SITE_FOOTER":return t.footer=e,!(t.header&&t.pagesContainer);case"PAGES_CONTAINER":return t.pagesContainer=e,!(t.header&&t.footer);default:return!0}})),t}(e);!function(e){var t=e.pagesContainer,n=e.header;t&&n&&(i.remove(t.layout.anchors,{targetComponent:"SITE_HEADER",type:"TOP_TOP"}),i.remove(n.layout.anchors,{targetComponent:"PAGES_CONTAINER",type:"TOP_TOP"}))}(t),function(e,t){var n=t.pagesContainer,s=t.header,c=t.footer,u=n&&n.components&&i.find(n.components,{id:"SITE_PAGES"});if(!u||!u.layout||u.layout.anchors&&0!==u.layout.anchors.length||(u.layout.anchors=[{distance:0,locked:!0,originalValue:0,targetComponent:"PAGES_CONTAINER",type:"BOTTOM_PARENT"}]),n&&n.layout&&(!n.layout.anchors||0===n.layout.anchors.length)&&c&&c.layout&&!c.layout.fixedPosition&&(n.layout.anchors=[{distance:10,locked:!0,originalValue:0,targetComponent:"SITE_FOOTER",type:"BOTTOM_TOP"}]),s&&!i.find(e,(function(e){return i.find(e.layout.anchors,{type:"BOTTOM_PARENT",targetComponent:"masterPage"})}))){var p=a(e);if(!p.layout.anchors)return;p.layout.anchors.push({distance:0,locked:!0,originalValue:o(p.layout)+r(p.layout)+(s?r(s.layout):0),targetComponent:"masterPage",type:"BOTTOM_PARENT"})}}(e,t)}var n}e.exports={exec:function(e){var t=e.structure;t&&"Document"===t.type&&(s(t.children),s(t.mobileComponents))},test:{getBoundingHeight:r,getBoundingY:o,getLowestComp:a}}},function(e,t,n){"use strict";var i=n(0);function r(e){i.isEmpty(e.components)||(e.components=[])}function o(e){e.layout&&(e.layout.y=0)}e.exports={exec:function(e){if(e.structure&&"Document"===e.structure.type){var t=function(e){var t;if(e.structure.children){var n=i.find(e.structure.children,{id:"PAGES_CONTAINER"});n&&!i.isEmpty(n.components)&&(t=i.find(n.components,{id:"SITE_PAGES"}))}return t}(e),n=function(e){var t;if(e.structure.mobileComponents){var n=i.find(e.structure.mobileComponents,{id:"PAGES_CONTAINER"});n&&!i.isEmpty(n.components)&&(t=i.find(n.components,{id:"SITE_PAGES"}))}return t}(e);t&&(r(t),o(t)),n&&(r(n),o(n))}return e}}},function(e,t,n){"use strict";var i=n(0),r=n(1);e.exports={exec:function(e,t,n,o,a,s,c,u){var p={toFix:["FlashComponent","SiteButton","Image"],newNames:["LinkableFlashComponent","LinkableButton","Image"],originalLink:["TextLink","Link"]},d=["href","text","target","icon","linkType"],l={oldValues:["same","other"],newValues:["_self","_blank"]};function m(e,t,n){var o=(e.linkType||"").toLowerCase(),a=t?n.getUniqueId():e.id;switch(o){case"page":return function(e,t){var n={};n.id=e,n.type="PageLink";var i=t.href;if(!i)return null;var r=i.lastIndexOf("/");r<0&&(r=i.lastIndexOf("|"));return i=i.substr(r+1),n.pageId=f(i),n}(a,e);case"website":return function(e,t){var n={};n.id=e,n.type="ExternalLink",n.target=function(e){var t,n=i.indexOf(l.oldValues,e);t=i.includes(l.newValues,e)?e:-1!==n?l.newValues[n]:l.newValues[1];return t}(t.target);var r=t.href;if(!r)return null;return n.url=r,n}(a,e);case"email":return function(e,t){var n={};n.id=e,n.type="EmailLink";var i=t.href;if(!i||!i.toLowerCase)return null;r.stringUtils.startsWith(i,"mailto:",!0)&&(i=i.substr("mailto:".length));var o=i.split("?");if(n.recipient=o[0],o[1]){var a=function(e){var t,n={},i=/([^&=]+)=([^&]*)/g;for(;t=i.exec(e);)n[t[1]]=t[2];return n}(o[1]);a.subject&&(n.subject=a.subject),a.body&&(n.body=a.body)}return n}(a,e);case"document":return function(e,t){var n,i={};i.type="DocumentLink",i.id=e;var r=t.href;if(!r)return null;var o=(n=r.substr(r.lastIndexOf("/")+1)).indexOf("?dn=");-1!==o&&(n=n.substring(0,o));return i.docId=n,i.name=t.text,i}(a,e);case"login":return function(e,t){var n={};n.id=e,n.type="LoginToWixLink";var i=t.text;i&&r.stringUtils.startsWith(i,"{")&&(i=JSON.parse(i),n.postLoginUrl=i.postLoginUrl,n.postSignupUrl=i.postSignupUrl,n.dialog=i.type);return n}(a,e);case"admin_login":case"free_link":case"":default:return null}}function f(e){return e?e&&r.stringUtils.startsWith(e,"#")?e:"#".concat(e):null}var y,g,v=e.data.document_data,w={},h=u.dataFixerUtils.uniqueIdGenerator;g=v,y=i.filter(g,(function(e){var t=!(e.type===p.toFix[2])||"2.0"!==e.metaData.schemaVersion;return!e.link&&i.includes(p.toFix,e.type)&&t})),i.forEach(y,(function(e){var t=function(e,t){var n=i.indexOf(p.toFix,e.type),r=p.newNames[n],o=i.defaults({type:r},i.omit(e,d)),a=m(e,!0,t);return a&&(o.link=f(a.id),w[a.id]=a),e.type===o.type&&(o.metaData.schemaVersion="2.0"),o}(e,h);t&&(v[e.id]=t)})),y=function(e){return i.filter(e,(function(e){return e.linkType&&i.includes(p.originalLink,e.type)}))}(v),i.forEach(y,(function(e){var t=m(e,!1,h);t&&(v[e.id]=t)})),i.assign(v,w)}}},function(e,t,n){"use strict";e.exports={exec:function(e){var t=e.data;t.document_data.THEME_DATA&&(t.theme_data.THEME_DATA||(t.theme_data.THEME_DATA=t.document_data.THEME_DATA),delete t.document_data.THEME_DATA)}}},function(e,t,n){"use strict";var i=n(0);e.exports={exec:function(e){"masterPage"===i.get(e,"structure.id")&&function(e){i.forEach(e.structure.children,(function(e){"wysiwyg.viewer.components.tpapps.TPAGluedWidget"===e.componentType&&(e.layout.fixedPosition=!0)}))}(e)}}},function(e,t,n){"use strict";var i=n(0);function r(e,t,n,r){return function(e,t,n,r,o){return{type:"Component",styleId:o||"tpagw0",id:e,dataQuery:"#".concat(t),skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:i.get(r,"defaultWidth")||320,height:i.get(r,"defaultHeight")||250,x:i.get(r,"x")||0,y:i.get(r,"y")||0,scale:1,rotationInDegrees:0,fixedPosition:i.get(r,"fixedPosition")||!0},propertyQuery:n,componentType:"wysiwyg.viewer.components.tpapps.TPAGluedWidget"}}(e,t=c(t),n=c(n),{x:10,y:10,width:0,height:5,fixedPosition:!1},r)}function o(e,t){var n=i.find(t,{appDefinitionId:"14517e1a-3ff0-af98-408e-2bd6953c36a2"}),o=function(e,t){return i(e.structure.children).filter((function(n){if(!n.dataQuery)return!1;var r=e.data.document_data[n.dataQuery.replace("#","")];return"14517f3f-ffc5-eced-f592-980aaa0bbb5c"===i.get(r,"widgetId")||i.toString(i.get(r,"applicationId"))===i.toString(t)})).map((function(t){return{comp:t,data:e.data.document_data[t.dataQuery.replace("#","")]}})).value()}(e).length>0;e&&"masterPage"===e.structure.id&&n&&!i.get(n,"permissions.revoked")&&o&&a(e.data,e.structure.children,n)&&!a(e.data,e.structure.mobileComponents,n)&&function(e,t){var n=e.structure.mobileComponents,o=i.find(n,{id:"SITE_FOOTER"}),a=t.dataQuery,s=t.propertyQuery,c=t.styleId;o&&i.isArray(o.components)?o.components.push(r(t.id,a,s,c)):n.push(r(t.id,a,s,c))}(e,s(e.data.document_data,e.structure.children,n))}function a(e,t,n){return!!s(e.document_data,t,n)}function s(e,t,n){for(var r=[].concat(t);!i.isEmpty(r);){var o=r.shift();if("wysiwyg.viewer.components.tpapps.TPAGluedWidget"===o.componentType){var a=e[c(o.dataQuery)];if(Number(a.applicationId)===Number(n.applicationId))return o}i.isEmpty(o.components)||(r=r.concat(o.components))}return null}function c(e){return e&&"#"===e[0]?e.substr(1):e}e.exports={exec:function(e,t,n,r,a,s,c,u){var p=i.get(u,"clientSpecMap");if("masterPage"===e.structure.id){var d=i.get(u,"quickActionsMenuEnabled");"masterPage"!==i.get(e,"structure.id")||d||o(e,p)}}}},function(e,t,n){"use strict";var i=n(0),r=function(e){return"TPAGlobalData"===e},o=function(e){return"TPA"===e};e.exports={exec:function(e,t,n,a,s,c,u,p){var d=p.clientSpecMap,l=function(e){var t=i.get(e,"data.document_data");return i.filter(t,(function(e){var t=e.type;return"TPAWidget"===t||r(t)||o(t)||function(e){return"TPAMultiSection"===e}(t)}))}(e);i.forEach(l,(function(e){!function(e,t){var n=r(e.type)?e.id.split("-")[1]:e.applicationId,o=i.get(t,[n,"appDefinitionId"]);i.set(e,"appDefinitionId",o)}(e,d),o(e.type)&&!i.get(e,"widgetId")&&function(e,t){var n=i.get(t,[e.applicationId,"widgets"]),r=i.get(t,[e.applicationId,"appDefinitionId"]),o=i.find(n,(function(e){return e.appPage&&e.appPage.name&&!e.appPage.hidden})),a=i.get(o,"widgetId");"13d21c63-b5ec-5912-8397-c3a5ddb27a97"===r?i.set(e,"widgetId","13d27016-697f-b82f-7512-8e20854c09f6"):"13e8d036-5516-6104-b456-c8466db39542"===r?i.set(e,"widgetId","13e8d047-31b9-9c1f-4f89-48ba9430f838"):i.set(e,"widgetId",a)}(e,d)}))}}},function(e,t,n){"use strict";var i=n(0),r=function(e,t){var n=t.getUniqueId("style","-"),i={type:"ComponentStyle",id:n,style:{properties:{},propertiesSource:{},groups:{}},componentClassName:"mobile.core.components.Page",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.page.TransparentPageSkin"};e.structure.styleId=n,e.data.theme_data[n]=i};function o(e,t,n){var r=i.get(e,["pageBackgrounds",n,"ref"]);r=i.replace(r,"#","");var o=i.get(t,["data","document_data",r]);o&&i.merge(o,{type:"BackgroundMedia",color:"transparent",alignType:"center",fittingType:"fill",scrollType:"none",mediaRef:null})}function a(e,t,n){if("masterPage"===i.get(e,"structure.id")){var a=i.get(e,"data.document_data"),s=i.find(a,{tpaApplicationId:t,tpaPageId:"fullscreen_page"});s&&(o(s,e,"desktop"),o(s,e,"mobile"))}else!function(e,t){var n=i.get(e,["structure","components"]),o=i.find(n,{componentType:"wysiwyg.viewer.components.tpapps.TPAMultiSection"});if(o){var a=o.dataQuery.replace("#","");"144f04b9-aab4-fde7-179b-780c11da4f46"===i.get(e,["data","document_data",a,"widgetId"])&&r(e,t)}}(e,n)}e.exports={exec:function(e,t,n,s,c,u,p,d){var l,m,f=(l=d.clientSpecMap,m=i.find(l,{appDefinitionId:"14271d6f-ba62-d045-549b-ab972ae1f70e"}),i.get(m,"applicationId")),y=d.dataFixerUtils.uniqueIdGenerator;f&&(d.isViewerMode?function(e,t,n){var a=i.get(e,"structure.id"),s=i.get(e,["data","document_data",a]),c=i.get(s,"tpaPageId"),u=i.get(s,"tpaApplicationId");"fullscreen_page"===c&&u===t&&(o(s,e,"desktop"),o(s,e,"mobile"),r(e,n))}(e,f,y):a(e,f,y))}}},function(e,t,n){"use strict";var i=n(0),r=n(5),o={BgImageStripProperties:function(e){e.fittingType=r.cssToFittingType({bgSize:e.bgSize,bgRepeat:e.bgRepeat}),e.fittingType=r.migrateToLegacyFittings(e.fittingType),e.alignType=r.cssToAlignType(e.bgPosition),e.type="BgImageStripUnifiedProperties",delete e.bgSize,delete e.bgRepeat,delete e.bgPosition,delete e.bgUrl}};e.exports={exec:function(e){var t=e.data.component_properties;i.isEmpty(t)||function(e){i.forEach(e,(function(e){var t=o[e.type];t&&t(e)}))}(t)}}},function(e,t,n){"use strict";var i=n(0),r={faq:{filterAppPart:{appPartName:"f2c4fc13-e24d-4e99-aadf-4cff71092b88",viewName:"ExpandQuestions"},filterAppLogicCustomization:{type:"AppPartCustomization",forType:"Category",view:"ToggleMobile",key:"comp.initialState",fieldId:"toggle",format:"Mobile"},modify:function(e){return i.assign(e,{fieldId:"vars",key:"initialState"})}}};e.exports={exec:function(e){i(r).values().forEach((function(t){i(e.data.document_data).filter(t.filterAppPart).forEach((function(e){e.appLogicCustomizations=i(e.appLogicCustomizations).map((function(e){return i.find([e],t.filterAppLogicCustomization)?t.modify(e):e})).compact().value()}))}))}}},function(e,t,n){"use strict";var i=n(0),r=n(5),o=n(9);function a(e,t,n){var r=i.filter(e,(function(e){return"Page"===e.type||"AppPage"===e.type})),o=i.map(r,"id");i.some(r,(function(e){return i.get(e,["pageBackgrounds","desktop","ref"])}))?s(e,n):function(e,t,n,r,o){var a=p(t),s=p(n);i.forEach(r,(function(t){var n=o.getUniqueId("mediaBg","-"),i=o.getUniqueId("mediaBg","-"),r=n.replace("mediaBg","bgImage"),c=i.replace("mediaBg","bgImage");u(e,a,t,n,r,"desktop"),u(e,s,t,i,c,"mobile")}))}(e,t.siteBg,t.mobileBg&&"[siteBg]"!==t.mobileBg?t.mobileBg:t.siteBg,o,n)}function s(e,t){var n=i.filter(e,{type:"BackgroundImage"});i.forEach(n,(function(n){!function(e,t,n){var i=t.id,r=n.getUniqueId("bgImage-"),o=function(e){return l(d.apply(this,[e.url,e.imagesizew,e.imagesizeh,e.positionx,e.positiony,e.width,e.repeatx,e.repeaty,e.attachment,e.color,e.metaData]))}(t);c(e,o,i,r)}(e,n,t)}))}function c(e,t,n,r){e[n]=i.assign({id:n},t.bgItem),t.imageItem&&(e[n].mediaRef="#".concat(r),e[r]=i.assign({id:r},t.imageItem))}function u(e,t,n,i,r,o){e[n].pageBackgrounds=e[n].pageBackgrounds||{desktop:"",mobile:""},e[n].pageBackgrounds[o]={ref:"#".concat(i),custom:!0,isPreset:!1},c(e,t,i,r)}function p(e){return l(d.apply(this,i.compact(e.split(" "))))}function d(e,t,n,i,r,o,a,s,c,u,p){return{imageId:e,imageW:t,imageH:n,x:i,y:r,width:o,repeatX:a,repeatY:s,attachment:c,color:u,metaData:{isPreset:(p=p||{}).isPreset||!1,schemaVersion:"2.0",isHidden:p.isHidden||!1}}}function l(e){var t={bgItem:{}},n="rgb(255,255,255)",i=r.cssToAlignType("".concat(e.x," ").concat(e.y)),a=r.cssToFittingType({bgRepeat:"".concat(e.repeatX," ").concat(e.repeatY),bgSize:e.width}),s="fixed"===e.attachment?"fixed":"scroll";return a=function(e){var t={};return t[o.fittingTypes.TILE]=o.fittingTypes.LEGACY_BG_FIT_AND_TILE,t[o.fittingTypes.TILE_HORIZONTAL]=o.fittingTypes.LEGACY_BG_FIT_AND_TILE_HORIZONTAL,t[o.fittingTypes.TILE_VERTICAL]=o.fittingTypes.LEGACY_BG_FIT_AND_TILE_VERTICAL,t[o.fittingTypes.LEGACY_ORIGINAL_SIZE]=o.fittingTypes.LEGACY_BG_NORMAL,t[e]||e}(a),e.color&&"none"!==e.color&&(n=e.color),e.imageId&&"none"!==e.imageId&&(t.imageItem={type:"Image",uri:e.imageId,width:parseInt(e.imageW,10),height:parseInt(e.imageH,10),metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1}}),t.bgItem={type:"BackgroundMedia",color:n,alignType:i,fittingType:a,scrollType:s,metaData:e.metaData},t}function m(e){var t=i.compact(e.split(" ")),n=d.apply(this,t).color;return n&&(n=(n=n.replace("[","{")).replace("]","}"),t[9]=n),t.join(" ")}e.exports={exec:function(e,t,n,r,o,c,u,p){if(e.structure){var d=e.data.theme_data&&e.data.theme_data.THEME_DATA,l=e.data.document_data,f=i.some(l,{type:"BackgroundMedia"}),y=i.some(l,{type:"BackgroundImage"}),g=p.dataFixerUtils.uniqueIdGenerator;f&&!y||("Document"===e.structure.type?(!function(e){e.siteBg=m(e.siteBg),e.mobileBg&&"[siteBg]"!==e.mobileBg&&(e.mobileBg=m(e.mobileBg))}(d),a(l,d,g)):function(e,t){s(e,t)}(l,g))}}}},function(e,t,n){"use strict";var i=n(0),r={alignType:"center",color:"{color_11}",fittingType:"fill",scrollType:"scroll",type:"BackgroundMedia"},o={desktop:{custom:!0,isPreset:!0,ref:null},mobile:{custom:!0,isPreset:!0,ref:null}};function a(e,t){var n=i.filter(e,(function(e){return"Page"===e.type||"AppPage"===e.type}));i.forEach(n,(function(n){n.pageBackgrounds||(n.pageBackgrounds=i.cloneDeep(o)),["mobile","desktop"].forEach((function(o){if(i.has(n,["pageBackgrounds",o])&&!i.get(n,["pageBackgrounds",o,"ref"])){var a=function(e,t,n){return n.getUniqueId(t.id,"_")+e}("_".concat(o,"_bg"),n,t);!function(e,t){t[e]=i.assign({id:e},r)}(a,e),n.pageBackgrounds[o].ref="#".concat(a)}}))}))}e.exports={exec:function(e,t,n,r,o,s,c,u){if(e.structure){var p=e.data.document_data,d=i.some(p,{type:"BackgroundMedia"}),l=u.dataFixerUtils.uniqueIdGenerator;d&&a(p,l)}}}},function(e,t,n){"use strict";var i=n(0);function r(e,t,n,r,o){if(0!==e[t].indexOf("#".concat(r))){var a,s,c=i.cloneDeep(o[e[t].replace("#","")]),u=function(e,t,n){return"".concat(e,"_").concat(t,"_").concat(n)}(r,n,t);s=c,o[a=u]=i.assign({id:a},i.omit(s,"id")),e[t]="#".concat(u)}}function o(e,t){(function(e){return i.every(["mobile","desktop"].map((function(t){return!!i.get(e,["pageBackgrounds",t,"ref"])})))})(e)&&["mobile","desktop"].forEach((function(n){return function(e,t,n){var i,o=n[t.pageBackgrounds[e].ref.replace("#","")];o&&o.mediaRef&&("WixVideo"===(i=n[o.mediaRef.replace("#","")]).type&&r(i,"posterImageRef",e,t.id,n),o.imageOverlay&&r(o,"imageOverlay",e,t.id,n),r(o,"mediaRef",e,t.id,n))}(n,e,t)}))}e.exports={exec:function(e){if(e.structure){var t=e.data.document_data,n=i.filter(t,(function(e){return"Page"===e.type||"AppPage"===e.type}));i.forEach(n,(function(e){o(e,t)}))}}}},function(e,t,n){"use strict";var i=n(0),r=n(7),o=["wysiwyg.viewer.components.StripContainer","wysiwyg.viewer.components.StripContainerSlideShowSlide"],a={fixed:{action:"bgScrub",name:"BackgroundReveal",duration:1,delay:0},parallax:{action:"bgScrub",name:"BackgroundParallax",duration:1,delay:0}};function s(e,t){var n=i.get(t,[e.behaviorQuery,"items"],"[]");return JSON.parse(n)}function c(e,t){var n=t[e.designQuery.replace("#","")].background.replace("#","");return t[n]}function u(e,t,n,p){i.forEach(e,(function(e){!function(e,t,n,u){var p;if(i.includes(o,e.componentType)){var d=c(e,t),l=d.scrollType||"none";if(d.scrollType="none","scroll"!==l&&"none"!==l&&a[l]){p=s(e,n),(p=i.reject(p,{name:"ContainerFixedBg",action:"bgScrub"})).push(a[l]);var m=JSON.stringify(p);if(e.behaviorQuery)i.set(n,[e.behaviorQuery,"items"],m);else{var f=r.createBehaviorsDataItem(m,u);i.set(n,f.id,f),e.behaviorQuery=f.id}}}}(e,t,n,p),e.components&&u(e.components,t,n,p)}))}function p(e,t,n){i.forEach(e,(function(e){!function(e,t,n){var r;i.includes(o,e.componentType)&&(c(e,t).scrollType="none",r=s(e,n),r=i.reject(r,{name:"ContainerFixedBg",action:"bgScrub"}),i.isEmpty(r)?(delete e.behaviors,delete e.behaviorQuery):i.set(n,[e.behaviorQuery,"items"],JSON.stringify(r)))}(e,t,n),e.components&&p(e.components,t,n)}))}e.exports={exec:function(e,t,n,i,r,o,a,s){var c=e.structure;if(c){var d=e.data.design_data,l=e.data.behaviors_data,m=s.dataFixerUtils.uniqueIdGenerator;c.components&&u(c.components,d,l,m),c.children&&u(c.children,d,l,m),c.mobileComponents&&p(c.mobileComponents,d,l)}}}},function(e,t,n){"use strict";var i=new(0,n(2).CompsMigrationHelper)({"wysiwyg.viewer.components.StripContainerSlideShowSlide":function(e,t,n,i){i.layout.y=0}});e.exports={exec:i.migratePage.bind(i)}},function(e,t,n){"use strict";var i=n(0);e.exports={exec:function(e){if("Page"===e.structure.type){var t=e.structure.components,n=e.data.document_data;i.forEach(t,(function(e){if(i.includes(e.componentType,"DocumentMedia")){var t=e.dataQuery,r=n[t.replace("#","")];0===r.uri.indexOf("media/")&&(r.uri=r.uri.replace("media/",""))}}))}return e}}},function(e,t,n){"use strict";var i=n(0);function r(e){e.urlChoice=i.includes(e.urlChoice,"pinterest.com")?e.urlChoice:"www.pinterest.com/"+e.urlChoice}e.exports={exec:function(e){return i(e.data.document_data).pickBy({type:"PinterestFollow"}).mapValues(r).value()}}},function(e,t,n){"use strict";var i=n(0);function r(e){var t=function(e){var t=i.findKey(e,(function(e){return e.appPageId&&"7326bfbb-4b10-4a8e-84c1-73f776051e10"===e.appPageId}));if(!t)return null;var n=i.findKey(e,(function(e){return e.pageId&&e.pageId==="#".concat(t)}));return i.findKey(e,(function(e){return e.link&&e.link==="#".concat(n)}))}(e);t&&function(e,t){var n=e.CUSTOM_MAIN_MENU&&e.CUSTOM_MAIN_MENU.items;i.forEach(n,(function(n){var r=e[n.replace("#","")].items,o=i.indexOf(r,t);if(-1!==o)return r.splice(o,1),e.CUSTOM_MAIN_MENU.items.push(t),!1}))}(e,"#".concat(t))}e.exports={exec:function(e){return e.structure&&"Document"===e.structure.type&&r(e.data.document_data),e}}},function(e,t,n){"use strict";var i=n(0),r=n(1),o={exec:function(e){e.data&&e.data.document_data&&i(e.data.document_data).filter((function(e){return o.isAppPartType(e.type)})).forEach((function(e){i(e.appLogicCustomizations).compact().groupBy("view").filter((function(e,t){return r.appPartMediaInnerViewNameUtils.isMediaInnerViewName(t)})).forEach((function(e){i(e).groupBy("fieldId").filter((function(e){return i.isEqual(i.map(e,"format"),[""])})).forEach((function(e){i.forEach(e,(function(e){e.format="*"}))}))}))}))},isAppPartType:function(e){return"AppPart"===e}};e.exports=o},function(e,t,n){"use strict";var i=n(0),r=n(1),o={exec:function(e){e.data&&i(e.data.document_data).filter((function(e){return e.type===o.getAppPartType()&&i.includes(o.getBlogFeedAppPartNames(),e.appPartName)})).forEach((function(e){var t=e.appLogicCustomizations;i(t).compact().filter((function(e){return e.fieldId===o.getReadMoreValueCustomizationFieldId()&&e.key===o.getReadMoreValueCustomizationKey()&&""===e.format&&i.includes(o.getAffectedReadMoreValueCustomizationViews(),e.view)})).forEach((function(e){i.remove(t,{fieldId:e.fieldId,format:"*",key:e.key,view:e.view}),e.format="*"}))}))},getAppPartType:function(){return"AppPart"},getBlogFeedAppPartNames:function(){return[r.blogAppPartNames.FEED,r.blogAppPartNames.CUSTOM_FEED]},getReadMoreValueCustomizationFieldId:function(){return"ReadMoreBtn"},getReadMoreValueCustomizationKey:function(){return"value"},getAffectedReadMoreValueCustomizationViews:function(){return["MediaLeft","MediaLeftPage","MediaRight","MediaRightPage","MediaZigzag","MediaZigzagPage","Masonry","MasonryPage"]}};e.exports=o},function(e,t,n){"use strict";var i=n(0);e.exports={exec:function(e){i(e.data.document_data).filter({type:"AppPart"}).forEach((function(e){i(e.appLogicCustomizations).filter({fieldId:"tagsValue",forType:"Post",format:"",key:"value",view:"SinglePostMediaTop"}).forEach((function(e){e.format="*"}))}))}}},function(e,t,n){"use strict";var i=n(0);e.exports={exec:function(e){i(e.data.document_data).filter({type:"AppPart"}).forEach((function(e){for(var t,n,r=e.appLogicCustomizations,o=r.length,a={};o;){var s=(t=r[o-=1],n=void 0,n=i.omit(t,"value"),JSON.stringify(n));a[s]?r.splice(o,1):a[s]=!0}}))}}},function(e,t,n){"use strict";var i=n(0),r=n(1);function o(e){return"Array"===e.forType&&"comp.itemsPerPage"===e.key&&i.includes(["","*"],e.format)&&i.includes(["paginatedlist","columnBlog"],e.fieldId)&&i.includes(["MediaTop","MediaBottom","MediaLeft","MediaRight","MediaZigzag","Masonry"],e.view)}e.exports={exec:function(e){i(e.data.document_data).filter({type:"AppPart",appPartName:r.blogAppPartNames.CUSTOM_FEED}).forEach((function(e){i(e.appLogicCustomizations).filter(o).forEach((function(e){i.assign(e,{fieldId:"vars",format:"*",key:"itemsPerPage"})}))}))}}},function(e,t,n){"use strict";var i=n(0),r=n(1);function o(e){return"Post"===e.forType&&"comp.hidden"===e.key&&("date"===e.fieldId||"author"===e.fieldId)&&i.includes(["MediaTop","MediaBottom","MediaLeft","MediaRight","MediaZigzag","Masonry","MediaTopPage","MediaBottomPage","MediaLeftPage","MediaRightPage","MediaZigzagPage","MasonryPage","SinglePostMediaBottom","SinglePostMediaTop"],e.view)}e.exports={exec:function(e){i(e.data.document_data).filter((function(e){return"AppPart"===e.type&&i.includes([r.blogAppPartNames.CUSTOM_FEED,r.blogAppPartNames.FEED,r.blogAppPartNames.SINGLE_POST],e.appPartName)})).forEach((function(e){i(e.appLogicCustomizations).filter(o).forEach((function(e){i.assign(e,{fieldId:"dateAndAuthor"})}))}))}}},function(e,t,n){"use strict";var i=n(0),r=n(1);function o(e){return"Post"===e.forType&&"layout.spacerBefore"===e.key&&"date"===e.fieldId&&i.includes(["MediaTop","MediaBottom","MediaLeft","MediaRight","MediaZigzag","Masonry","MediaTopPage","MediaBottomPage","MediaLeftPage","MediaRightPage","MediaZigzagPage","MasonryPage","SinglePostMediaBottom","SinglePostMediaTop"],e.view)}e.exports={exec:function(e){i(e.data.document_data).filter((function(e){return"AppPart"===e.type&&i.includes([r.blogAppPartNames.CUSTOM_FEED,r.blogAppPartNames.FEED,r.blogAppPartNames.SINGLE_POST],e.appPartName)})).forEach((function(e){i(e.appLogicCustomizations).filter(o).forEach((function(e){i.assign(e,{fieldId:"vars",key:"dateAndAuthorPosition",value:"0"===e.value?"left":"right"})}))}))}}},function(e,t,n){"use strict";var i=n(0),r=n(1),o=null;e.exports={exec:function(e){i.isNull(o)&&(o=[],i.forEach(e.data.theme_data,(function(e,t,n){i.matches({componentClassName:"wysiwyg.viewer.components.SiteButton",skin:"wysiwyg.viewer.skins.AppPartSkin"})(e)&&(o.push(t),delete n[t])})),setTimeout((function(){o=null}))),i(e.data.document_data).filter((function(e){return"AppPart"===e.type&&i.includes(r.blogAppPartNames,e.appPartName)})).forEach((function(e){i.remove(e.appLogicCustomizations,(function(e){return"comp.style"===e.key&&i.includes(o,e.value)}))}))}}},function(e,t,n){"use strict";var i=n(0),r=function e(t,n,r,o){i.forEach(t,(function(t){t.dataQuery&&r[t.dataQuery.replace("#","")]&&function(e,t,n){var i="propItem-".concat(e.id),r={type:"DefaultProperties",metaData:{pageId:n},isHidden:!0,id:i};t.component_properties[i]=r,e.propertyQuery="#".concat(i);var o=e.dataQuery;delete t.document_data[o],e.dataQuery=void 0,e.componentType="mobile.core.components.Container"}(t,n,o),e(t.components,n,r,o)}))};e.exports={exec:function(e,t,n,o,a,s,c,u){var p=u.clientSpecMap,d=e.structure;if(d&&e.data&&p){var l=d.id,m=function(e,t){return i.pickBy(e,(function(e){return"AppPart"===e.type&&e.appInnerID&&!((n=t[e.appInnerID])&&("wixapps"===n.type||"ecommerce"===n.type));var n}))}(e.data.document_data,p);i.isEmpty(m)||(d.components&&r(d.components,e.data,m,l),d.mobileComponents&&r(d.mobileComponents,e.data,m,l),d.children&&r(d.children,e.data,m,l))}}}},function(e,t,n){"use strict";var i=n(0),r=n(1),o={};o[r.blogAppPartNames.FEED]=["MediaBottomPage","MediaLeftPage","MediaRightPage","MediaTopPage","MediaZigzagPage"],o[r.blogAppPartNames.POSTS_LIST]=["PostsList","PostsListMediaLeft"],o[r.blogAppPartNames.TICKER]=["TickerMediaBottom","TickerMediaTop"],e.exports={exec:function(e){i(e.data.document_data).filter((function(e){return"AppPart"===e.type&&i.includes([r.blogAppPartNames.FEED,r.blogAppPartNames.POSTS_LIST,r.blogAppPartNames.TICKER],e.appPartName)})).forEach((function(e){i(e.appLogicCustomizations).filter((function(t){return"date"===t.fieldId&&"Post"===t.forType&&!t.format&&"comp.format"===t.key&&i.includes(o[e.appPartName],t.view)})).forEach((function(e){e.format="*"}))}))}}},function(e,t,n){"use strict";var i=n(0),r={type:"ContactFormProperties",hidden_emailFieldLabel:!0,hidden_nameFieldLabel:!0,hidden_phoneFieldLabel:!1,hidden_addressFieldLabel:!1,hidden_subjectFieldLabel:!0,hidden_messageFieldLabel:!0,required_emailFieldLabel:!0,required_nameFieldLabel:!0,required_phoneFieldLabel:!1,required_addressFieldLabel:!1,required_subjectFieldLabel:!1,required_messageFieldLabel:!1,useCookie:!0},o={nameFieldLabel:{type:"string",default:"Name"},emailFieldLabel:{type:"string",default:"Email"},phoneFieldLabel:{type:"string",default:"Phone"},addressFieldLabel:{type:"string",default:"Address"},subjectFieldLabel:{type:"string",default:"Subject"},messageFieldLabel:{type:"string",default:"Message"},submitButtonLabel:{type:"string",default:"Send"},successMessage:{type:"string",default:"Your details were sent successfully!"},errorMessage:{type:"string",default:"Please provide a valid email"},textDirection:{type:"string",default:"left",enum:["left","right"]},validationErrorMessage:{type:"string",default:"Please fill in all required fields."},onSubmitBehavior:{type:"string",default:"message",enum:["message","link"]}},a={skinPrefix:"contactform.",fields:["name","email","subject","phone","address","message"]},s={skinPrefix:"wysiwyg.viewer.skins.contactform.",fields:["name","email","phone","address","subject","message"]};function c(e){return(e||"").replace("#","")}function u(e){var t=c(e.propertyQuery);i.unset(e,"propertyQuery"),i.unset(this.pageJson.data.component_properties,[t])}function p(e,t,n){var r=i.startsWith(e,a.skinPrefix)?a.fields:s.fields;return i.reduce(r,(function(e,r){var a="".concat(r,"FieldLabel"),s=n["hidden_".concat(a)];if(s){var c=function(e){switch(e){case"email":return{fieldType:"email",fieldInputType:"email"};case"phone":return{fieldType:"phone",fieldInputType:"tel"};default:return{fieldType:e,fieldInputType:"text"}}}(r);e.push({name:c.fieldType,inputType:c.fieldInputType,displayLabel:t[a]||i.get(o[a],"default"),required:n["required_".concat(a)],isDisplayed:s})}return e}),[])}function d(e){var t,n=this,o=c(e.dataQuery),a=c(e.propertyQuery),s=this.pageJson.data.document_data[o],u=function(e,t,n){return!i.has(n.data.component_properties,t)&&"wysiwyg.viewer.components.ContactForm"===e.componentType}(e,a,this.pageJson)?r:this.pageJson.data.component_properties[a];(i.unset(e,"propertyQuery"),i.set(e,"componentType","wysiwyg.viewer.components.DynamicContactForm"),t=s,i.has(t,"dynamicFields")&&"DynamicContactForm"===i.get(t,"type"))||(i.assign(this.pageJson.data.document_data[o],{type:"DynamicContactForm",dynamicFields:p(e.skin,s,u)}),["name","email","subject","phone","address","message"].forEach((function(e){i.unset(n.pageJson.data.document_data,[o,"".concat(e,"FieldLabel")])})),i.unset(this.pageJson.data.component_properties,a))}function l(e){var t=this;e&&i.forEach(e,(function(e){"wysiwyg.viewer.components.ContactForm"===e.componentType&&d.call(t,e),"wysiwyg.viewer.components.DynamicContactForm"===e.componentType&&u.call(t,e),l.call(t,e.components)}))}e.exports={exec:function(e){var t=e.structure;if(function(e){return!!e}(t)){var n=i.concat([],t.components||t.children,t.mobileComponents||[]);l.call({pageJson:e},n)}}}},function(e,t,n){"use strict";var i=n(0);e.exports={exec:function(e){(function(e){return"Page"===i.get(e,"structure.type")})(e)&&function(e){i(e.data.document_data).filter({type:"Page"}).map("id").forEach((function(t){delete e.data.document_data[t]}))}(e),function(e){i.forEach(e.data.document_data,(function(e){"#SITE_STRUCTURE"===e.pageId&&(e.pageId="#masterPage")}))}(e)}}},function(e,t,n){"use strict";var i=n(0),r=n(2).createHelperAndMigratePage,o=["dataQuery","designQuery","propertyQuery","connectionQuery","mobileComponents","mobileHintsQuery"],a=function(e){Object.assign(e,{type:"Container",skin:"wysiwyg.viewer.skins.area.DefaultAreaSkin",componentType:"mobile.core.components.Container"}),o.forEach((function(t){delete e[t]}))},s=function(e,t){t.splice(t.indexOf(e),1)};function c(e,t,n,i){delete i.styleId,this.setComponentStyle(e,i,{type:"ComponentStyle",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{groups:{},properties:{"alpha-bg":0,"alpha-brd":"1",bg:"rgba(50,50,50,0)","boxShadowToggleOn-shd":"false",brd:"#ffffff",brw:"0px",rd:"0px",shd:"0px 0px 0px 0px rgba(0,0,0,0)"},propertiesSource:{"alpha-bg":"value","alpha-brd":"value",bg:"value","boxShadowToggleOn-shd":"value",brd:"value",brw:"value",rd:"value",shd:"value"}},componentClassName:"mobile.core.components.Container",pageId:"",compId:"",skin:"wysiwyg.viewer.skins.area.DefaultAreaSkin"},t),a(i)}e.exports={exec:r({"mobile.core.components.Page":function(e,t,n,r,o,u){if(r.components.length)if(n){var p=i.get(t,[r.id,"styleId"]);p?function(e,t){e.styleId=t,a(e)}(r,p):s(r,u)}else c.call(this,e,t,n,r);else s(r,u)}})}},function(e,t,n){"use strict";var i=n(0),r=function(e,t,n){var r=e.layout;delete e.layout;var o=n.getUniqueId("layoutItem","-"),a=i.defaults({id:o,type:"AbsoluteLayout"},r);e.layoutQuery="#".concat(o),t[o]=a},o=function(e,t,n){return e.layoutQuery?(delete e.layout,!1):(e.layout&&r(e,t,n),e.modes&&e.modes.overrides&&e.modes.overrides.forEach((function(e){e.layout&&r(e,t,n)})),!0)},a=function e(t,n,r){i.forEach(t,(function(t){o(t,n,r),e(t.components,n,r)}))};e.exports={exec:function(e,t,n,i,r,s,c,u){var p=u.isExperimentOpen,d=u.isViewerMode,l=u.dataFixerUtils,m=p("bv_migrateAbsoluteLayoutToDataMaps"),f=l.uniqueIdGenerator;if(m&&d){var y=e.structure;e.data.layout_data||(e.data.layout_data={});var g=e.data.layout_data;o(e.structure,g,f)&&(y.components&&a(y.components,g,f),y.mobileComponents&&a(y.mobileComponents,g,f),y.children&&a(y.children,g,f))}}}},function(e,t,n){"use strict";var i=n(0);function r(e){i.forEach(e,(function(e){var t;"wysiwyg.viewer.components.Group"===(t=e).componentType&&(t.skin="wysiwyg.viewer.components.GroupSkin"),r(e.components)}))}e.exports={exec:function(e){var t=e.structure;if(t){var n=t.components||t.children,i=t.mobileComponents;n&&r(n),i&&r(i)}}}},function(e,t,n){"use strict";var i=n(0),r=["RichText","Text","StyledText","MediaRichText"];e.exports={exec:function(e){var t=e.data.document_data;t&&i(t).pickBy((function(e){return i.includes(r,e.type)})).mapValues((function(e){var t;return e.text=(t=e.text)&&t.replace(/(<object[^>]*>)(.*?)(<\/object>)/gi,""),e.text=function(e){return e&&e.replace(/<img[^>]*(onerror|onload|onmouseenter|onmousemove|onmouseleave|onmouseover|onmouseup|onmouseout)[^>]*\/?>(<\/img>)?/gi,"")}(e.text),e})).value()}}},function(e,t,n){"use strict";var i=n(0),r=i.matchesProperty(["structure","type"],"Page");e.exports={exec:function(e,t,n,o,a,s,c,u){i.get(u,"isSlash")&&!r(e)&&i.forEach(u.pageIdToResolvedUriSEO,(function(t,n){e.data.document_data[n]&&(e.data.document_data[n].pageUriSEO=t.curr)}))}}},function(e,t,n){"use strict";var i=n(0),r=n(2).createHelperAndMigratePage;var o={"wysiwyg.viewer.components.StripContainer":function(e,t,n,r,o){r.componentType="wysiwyg.viewer.components.StripColumnsContainer",delete r.skin,r.styleId="strc1",this.setComponentProperties(e,r,{columnsMargin:0,frameMargin:0,fullWidth:!0,rowMargin:0,siteMargin:0,type:"StripColumnsContainerProperties"},t);var a=function(e,t,n){return{id:i.get(t,[e.id,"mediaId"],n.getUniqueId("media")),type:"Container",layout:{width:e.layout.width,height:e.layout.height,x:0,y:0,scale:1,rotationInDegrees:0,anchors:[{distance:0,topToTop:0,originalValue:0,type:"BOTTOM_PARENT",locked:!0,targetComponent:e.id}],fixedPosition:!1},components:e.components,componentType:"wysiwyg.viewer.components.Column",styleId:"strc1"}}(r,t,o);if(function(e,t){i.forEach(e.components,(function(e){var n=i.get(e,["layout","anchors"],[]);i.forEach(n,(function(e){"BOTTOM_PARENT"===e.type&&(e.targetComponent=t.id)}))}))}(r,a),function(e,t){e.behaviors&&(t.behaviors=i.clone(e.behaviors),delete e.behaviors),e.behaviorQuery&&(t.behaviorQuery=e.behaviorQuery,delete e.behaviorQuery)}(r,a),i.set(t,[r.id,"mediaId"],a.id),this.setComponentProperties(e,a,{type:"ColumnProperties",alignment:50},t),a.designQuery=r.designQuery,delete r.designQuery,n)r.layout.width=320,r.designQuery=i.get(t,[r.id,"designQuery"]),this.deleteComponentData(e,r);else{r.layout.width=980;var s=function(e){return{type:"MediaContainerDesignData",id:e.getUniqueId("dataItem","-"),background:{id:e.getUniqueId("dataItem","-"),type:"BackgroundMedia",mediaRef:null,alignType:"center",fittingType:"fill",colorOpacity:0,colorOverlay:"",colorOverlayOpacity:1,imageOverlay:"",scrollType:"none",color:"#FFFFFF"}}}(o);this.setComponentDesignData(e,r,s,t)}delete r.dataQuery,r.components=[a]}};e.exports={exec:r(o)}},function(e,t,n){"use strict";var i=n(0);function r(e){if("wysiwyg.viewer.skins.mobile.TinyMenuSkin"===e.skin&&!i.isUndefined(e.style)&&!i.isUndefined(e.style.properties)){var t=e.style.properties,n=e.style.propertiesSource;i.forEach([["bg","bgDrop"],["bg","bgOpen"],["txt","bordercolor"],["txt","iconcolor"],["bordercolor","borderColorSelected"]],(function(e){var i=e[0],o=e[1];r(t,i,o),r(n,i,o),i="alpha-".concat(i),o="alpha-".concat(o),r(t,i,o),r(n,i,o)}))}function r(e,t,n){i.isUndefined(e)||i.isUndefined(e[t])||(e[n]=e[n]||e[t])}}e.exports={exec:function(e){var t=e.data&&e.data.theme_data;i.isEmpty(t)||i.forEach(t,r)}}},function(e,t,n){"use strict";var i=n(0);e.exports={exec:function(e){"masterPage"===i.get(e,["structure","id"])&&function e(t){var n=i.find(t,{id:"TINY_MENU"});return n?(n.layout.fixedPosition&&n.layout.x>320&&(n.layout.x=250),!0):i.some(t,(function(t){return!i.isEmpty(t.components)&&e(t.components)}))}(e.structure.mobileComponents)}}},function(e,t,n){"use strict";var i=n(0);function r(e){return"wysiwyg.viewer.components.StripContainer"===e.componentType}function o(e){return!i.isUndefined(e.designQuery)}function a(e,t,n){return t[n]=e[n],delete e[n],t[n]}function s(e,t,n,r,o,s){var c=o.dataQuery.slice(1),u=function(e,t,n){var i=n.getUniqueId("dataItem","-");return t[i]={id:i,type:"MediaContainerDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1}},e.designQuery="#".concat(i),i}(o,t,s);n[c]=u;var p=function(e,t,n,r){var o=n[e];if(!i.isUndefined(o.background)){var s=o.background.slice(1),c=a(n,r,s);if(!i.isUndefined(c.mediaRef)){var u=a(n,r,c.mediaRef.slice(1));if("WixVideo"===u.type)a(n,r,u.posterImageRef.slice(1));if(!i.isUndefined(u.originalImageDataRef))a(n,r,u.originalImageDataRef.slice(1));i.isUndefined(u.link)||delete u.link}if(!i.isUndefined(c.imageOverlay))a(n,r,c.imageOverlay.slice(1));return delete o.background,r[t].background="#".concat(s),s}}(c,u,e,t);i.isUndefined(p)||(r[c]=p)}function c(e,t,n,i){var r=i.dataQuery.slice(1);i.designQuery="#".concat(t[r])}function u(e){return i.isUndefined(e.components)?i.isUndefined(e.children)?[]:e.children:e.components}function p(e){for(var t=i.clone(e)||[],n=[];t.length>0;){var r=t.pop();n.push(r);var o=u(r);i.forEach(o,(function(e){t.push(e)}))}return n}e.exports={exec:function(e,t,n,a,d,l,m,f){var y=function(e){return p(u(e.structure))}(e),g=function(e){return p(e.structure.mobileComponents)}(e),v=f.dataFixerUtils.uniqueIdGenerator;e.data.design_data=e.data.design_data||{},function(e,t,n,a,u){var p={},d={},l=i.filter(e,r);i(l).reject(o).forEach(i.partial(s,n,a,d,p,i,u)),i(t).filter((function(e){return r(e)&&!o(e)})).forEach(i.partial(c,a,d,p))}(y,g,e.data.document_data,e.data.design_data,v)}}},function(e,t,n){"use strict";var i=n(0);function r(e){i.forEach(e,(function(e){"BasicMenuItem"===e.type&&0===e.displayCount&&(e.displayCount=void 0)}))}e.exports={exec:function(e){r(i.get(e,["data","document_data"],{})),i.forEach(i(e).get("translations",[]),(function(e){r(i.get(e,["data","document_data"],{}))}))}}},function(e,t,n){"use strict";var i=n(0);e.exports={exec:function(e){var t=e.data.document_data;i.isEmpty(t)||function(e){i.forEach(e,(function(e){"LoginToWixLink"!==e.type&&"HomePageLogin"!==e.type||function(e){e.metaData&&"2.0"===e.metaData.schemaVersion||(e.sendMail=!0)}(e)}))}(t)}}},function(e,t,n){"use strict";var i=n(0);e.exports={exec:function(e){return e.structure&&"Document"===e.structure.type&&i.isEmpty(e.data.document_data.masterPage.characterSets)&&(e.data.document_data.masterPage.characterSets=["latin"]),e}}},function(e,t,n){"use strict";var i=n(0);e.exports={exec:function(e){var t=i.get(e,["data","component_properties",e.structure.id]);t&&t.popup&&(i.forEach(["desktop","mobile"],(function(e){var n=t[e],r=t.popup[e];(n||r)&&i.set(t,[e,["popup"]],i.assign(n||{},r||{}))})),delete t.popup)}}},function(e,t,n){"use strict";var i=n(0);e.exports={exec:function(e){var t=i.get(e,["data","document_data"]);t&&i(t).filter("posterImageRef").forEach((function(e){var n=i.replace(e.posterImageRef,"#",""),r=t[n];i.get(r,"uri")&&(r.uri=i.trimStart(r.uri,"/"))}))}}},function(e,t,n){"use strict";var i=n(0),r=n(1);e.exports={exec:function(e){i(e.data.document_data).filter({type:"AppPart",appPartName:r.blogAppPartNames.SINGLE_POST}).forEach((function(e){var t=i.find(e.appLogicCustomizations,{forType:"Post",fieldId:"vars",key:"selectionSharerExperimentOpen",view:e.viewName});t||(t={forType:"Post",fieldId:"vars",key:"selectionSharerExperimentOpen",view:e.viewName,type:"AppPartCustomization",format:""},e.appLogicCustomizations.push(t))}))}}},function(e,t,n){"use strict";var i=n(0);function r(e){return i.find(e.structure.mobileComponents,{id:"QUICK_ACTION_BAR"})}function o(e){r(e).propertyQuery="quickActionBarProps",i.assign(e.data.component_properties,{quickActionBarProps:{type:"QuickActionBarProperties",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},colorScheme:"brand",invertColors:!0,alignment:"right",hideText:!0}})}function a(e){return!!r(e)}e.exports={exec:function(e,t,n,s,c,u,p,d){if("masterPage"===e.structure.id){var l,m;if(i(e.data.document_data).filter((function(e){return"QuickActionBarItem"===e.type&&i.isString(e.text)})).forEach((function(e){e.text=e.text.slice(0,40)})),a(e))return function(e){var t=i.find(e.structure.mobileComponents,{id:"QUICK_ACTION_BAR"});i.isUndefined(t.components)&&(t.components=[]),t.type="Container",i.isUndefined(e.data.component_properties[t.propertyQuery])&&o(e)}(e),void function(e){var t=i.find(e.structure.mobileComponents,{id:"QUICK_ACTION_BAR"}),n=i.get(e.data.theme_data,[t.styleId,"style","properties"]);i.transform(["controlButtonBorderColor","actionsBorderColor"],(function(e,t){/^rgb/.test(e[t])&&(e[t]="#ffffff")}),n)}(e);!(l=d.clientSpecMap,m=i.find(l,{appDefinitionId:"14517e1a-3ff0-af98-408e-2bd6953c36a2"}),i.isUndefined(m)||i.get(m,"permissions.revoked")||a(e)||d.quickActionsMenuEnabled)&&(!function(e){e.structure.mobileComponents.push({type:"Container",id:"QUICK_ACTION_BAR",componentType:"wysiwyg.viewer.components.QuickActionBar",components:[],styleId:"quickActionBarStyle",layout:{fixedPosition:!0}})}(e),function(e){r(e).styleId="quickActionBarStyle",i.assign(e.data.theme_data,{quickActionBarStyle:{type:"TopLevelStyle",id:"quickActionBarStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},skin:"wysiwyg.viewer.skins.quickActionBar.floatingSkin",style:{properties:{"alpha-controlButtonBG":"1","alpha-controlButtonFG":"1","alpha-controlButtonBorderColor":"1","alpha-actionsBorderColor":"1","boxShadowToggleOn-actionsSHD":"true","boxShadowToggleOn-controlButtonSHD":"true",controlButtonBG:"#ffffff",controlButtonFG:"#4682b4",controlButtonBorderSize:"0",controlButtonBorderColor:"#ffffff",actionsBorderSize:"0",actionsBorderColor:"#ffffff",colorScheme:"brand inv",controlButtonSHD:"0px 1px 4px 0px rgba(0,0,0,0.6)",actionsSHD:"0px 1px 4px 0px rgba(0,0,0,0.6)"},propertiesSource:{controlButtonBG:"value",controlButtonFG:"value",controlButtonBorderSize:"value",controlButtonBorderColor:"value",actionsBorderSize:"value",actionsBorderColor:"value",colorScheme:"value",controlButtonSHD:"value",actionsSHD:"value"},groups:{}},componentClassName:"wysiwyg.viewer.components.QuickActionBar",pageId:"",compId:"",styleType:"custom"}})}(e),o(e))}}}},function(e,t,n){"use strict";var i=n(0),r=n(1),o={exec:function(e){i.forEach(e.data.document_data,(function(e){e.appPartName&&e.appPartName===r.blogAppPartNames.FEED&&o.fixMobileDateCustomization(e)}))},fixMobileDateCustomization:function(e){i.forEach(e.appLogicCustomizations,(function(e){"date"===e.fieldId&&"Mobile"===e.format&&"Post"===e.forType&&"comp.hidden"===e.key&&(e.fieldId="dateAndAuthor")}))}};e.exports=o},function(e,t,n){"use strict";var i=n(0);function r(e,t,n,r){var o=i.tail(e);i.forEach(o,(function(e){var o=function(e,t,n){var r="".concat(t,"_").concat(n.getUniqueId()),o=i.cloneDeep(e[t]);return o.id=r,o}(t,n,r);t[o.id]=o,e.originalImageDataRef="#".concat(o.id)}))}e.exports={exec:function(e,t,n,o,a,s,c,u){var p=u.dataFixerUtils.uniqueIdGenerator,d=i.get(e,["data","document_data"]);if(d){var l=i(d).pickBy({type:"Image"}).pickBy("originalImageDataRef").groupBy("originalImageDataRef").value();i.forOwn(l,(function(e,t){var n=t.replace("#","");d[n]||(i.forEach(e,(function(e){delete e.originalImageDataRef})),delete l[t])})),i(l).pickBy((function(e){return e.length>1})).forOwn((function(e,t){r(e,d,t.replace("#",""),p)}))}}}},function(e,t,n){"use strict";var i=n(0);e.exports={exec:function(e){var t=e.data.component_properties;i.isEmpty(t)||function(e){i.forEach(e,(function(e){"WPhotoProperties"===e.type&&e.effectName&&(e.filterEffect||"none"===e.effectName||(e.filterEffect={effectType:e.effectName}),delete e.effectName)}))}(t)}}},function(e,t,n){"use strict";var i=n(0),r=["wysiwyg.viewer.skins.mobile.TinyMenuSkin","wysiwyg.viewer.skins.mobile.TinyMenuFullScreenSkin","wysiwyg.viewer.skins.mobile.TinyMenuPullFromLeftSkin","wysiwyg.viewer.skins.mobile.TinyMenuPullFromTopSkin","wysiwyg.viewer.skins.mobile.TinyMenuPullFromRightSkin"];e.exports={exec:function(e){if("masterPage"===i.get(e,["structure","id"])){var t=function e(t){var n=i.find(t,{id:"TINY_MENU"});return n||(i.forEach(t,(function(t){if(!i.isEmpty(t.components))return!(n=e(t.components))})),n)}(e.structure.mobileComponents);t&&!function(e,t){var n=i.get(t,[e.styleId,"skin"]),o=e.skin;return n&&o&&i.includes(r,n)&&i.includes(r,o)}(t,e.data.theme_data)&&function(e){e.skin="wysiwyg.viewer.skins.mobile.TinyMenuSkin",e.styleId="tm2"}(t)}}}},function(e,t,n){"use strict";var i,r,o,a=n(0),s=n(1).vectorImageConversionUtils,c=n(3),u=(i={},r="wysiwyg.viewer.components.svgshape.SvgShape",o=s.vectorImageDefaults,r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o,i),p=s.convertStyle,d=s.convertData,l=s.convertProperties,m=s.convertStructure;function f(e,t,n,i){a.forEach(e,(function(e){if(e.components)"wysiwyg.viewer.components.Repeater"===e.componentType&&(!function(e,t,n){var i=t[a.get(e,"dataQuery","").replace("#","")];f(e.components,t,n,a.get(i,"items"))}(e,t,n),i=[]),f(e.components,t,n,i);else{var r=u[e.componentType];if(r){var o=e.skin,s=a.get(e,"propertyQuery","").replace("#",""),c=a.get(e,"dataQuery","").replace("#","");n[s]||(n[s]={});var p=t[c],y=n[s];m(e,r),d(p,r,o),l(y,r),a.forEach(a.get(e,["modes","overrides"]),(function(e){if(e.propertyQuery){var t=a.get(e,"propertyQuery","").replace("#","");n[t]||(n[t]={});var i=n[t];l(i,r)}})),a.forEach(i,(function(n){var i=t["".concat(a.get(e,"dataQuery","").replace("#",""),"__").concat(n)];i&&d(i,r,o)}))}}}))}e.exports={exec:function(e){var t=e.data.theme_data,n=e.data.document_data,i=e.data.component_properties,r=e.structure.components||e.structure.children,o=e.structure.mobileComponents,s=[];a.isEmpty(t)||function(e){c.forEachStyle(e,(function(e){if(a.includes(e.skin,"svgshape")&&"wysiwyg.viewer.components.PopupCloseIconButton"!==e.componentClassName){var t=u["wysiwyg.viewer.components.svgshape.SvgShape"];p(e,t)}}))}(t),a.isEmpty(r)||f(r,n,i,s),a.isEmpty(o)||f(o,n,i,s)}}},function(e,t,n){"use strict";var i=n(0),r=n(1).vectorImageConversionUtils,o=n(3).forEachStyle,a={"wysiwyg.viewer.components.VectorImageArt":r.vectorImageDefaults,"wysiwyg.viewer.components.VectorImageShape":r.vectorImageDefaults},s=r.convertStyle,c=r.convertStructure;function u(e){i.forEach(e,(function(e){var t=a[e.componentType];t&&c(e,t),e.components&&u(e.components)}))}e.exports={exec:function(e){var t=e.data.theme_data,n=e.structure.components||e.structure.children,r=e.structure.mobileComponents;i.isEmpty(t)||function(e){o(e,(function(e){var t=a[e.componentClassName];t&&s(e,t)}))}(t),i.isEmpty(n)||u(n),i.isEmpty(r)||u(r)}}},function(e,t,n){"use strict";var i=n(0),r=n(2).CompsMigrationHelper;function o(e,t,n,r,o){var a=function(e){return i(e).filter("appFields.platform").reduce((function(e,t){return i(t.widgets).pickBy(["componentFields.semiNative",!0]).mapValues(i.constant(!0)).assign(e).value()}),{})}(e),s=this.getComponentData(t,o);"wysiwyg.viewer.components.tpapps.TPAWidget"===o.componentType&&a[s.widgetId]&&(o.componentType="platform.components.semiNativeComponent",o.skin="wysiwyg.viewer.skins.semiNativeComponentSkin",o.styleId+="-semi",this.setComponentData(t,o,i.defaults({type:"SemiNative"},s),n))}e.exports={exec:function(e,t,n,a,s,c,u,p){if(p.isExperimentOpen("sv_migrateTpaToSemiNative")&&p.isViewerMode){"masterPage"===e.structure.id&&function(e){var t=i(e.data.theme_data).filter({componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}).map((function(e){var t=i.cloneDeep(e);return t.componentClassName="platform.components.semiNativeComponent",t.skin="wysiwyg.viewer.skins.semiNativeComponentSkin",t})).transform((function(e,t){e[t.id+"-semi"]=t}),{}).value();i.assign(e.data.theme_data,t)}(e);var d={"wysiwyg.viewer.components.tpapps.TPAWidget":i.partial(o,p.clientSpecMap)},l=p.dataFixerUtils.uniqueIdGenerator;new r(d,l).migratePage(e)}}}},function(e,t,n){"use strict";var i=n(0),r=n(2).CompsMigrationHelper;function o(e,t,n,r){var o=e.data.document_data[r.dataQuery.slice(1)],a=e.data.component_properties,s=a[r.propertyQuery];if(i.has(s,"dataSource")){var c={type:s.dataSource.type,revision:s.dataSource.id};delete s.dataSource;var u="mobile_".concat(r.propertyQuery);i.has(a,u)&&delete a[u].dataSource,i.set(o,"dataSource",c)}}e.exports={exec:function(e,t,n,i,a,s,c,u){var p={"wysiwyg.viewer.components.Grid":o},d=u.dataFixerUtils.uniqueIdGenerator;new r(p,d).migratePage(e)}}},function(e,t,n){"use strict";var i=n(0),r=n(2).createHelperAndMigratePage;var o={"wysiwyg.viewer.components.Column":function(e,t,n,r){n&&i.startsWith(r.designQuery,"#mobile_")&&(this.deleteComponentDesignData(e,r),r.designQuery=i.replace(r.designQuery,"mobile_",""))}};e.exports={exec:r(o)}},function(e,t,n){"use strict";var i=n(2).createHelperAndMigratePage;function r(e,t,n,i,r){if(!i.designQuery&&!n){i.layout.width=980;var o=function(e){return{type:"MediaContainerDesignData",id:e.getUniqueId("dataItem","-"),background:{id:e.getUniqueId("dataItem","-"),type:"BackgroundMedia",mediaRef:null,alignType:"center",fittingType:"fill",colorOpacity:0,colorOverlay:"",colorOverlayOpacity:1,imageOverlay:"",scrollType:"none",color:"#FFFFFF"}}}(r);this.setComponentDesignData(e,i,o,t)}}var o={"wysiwyg.viewer.components.StripColumnsContainer":r,"wysiwyg.viewer.components.Column":r};e.exports={exec:i(o)}},function(e,t,n){"use strict";var i=n(0),r=n(1),o={"wysiwyg.viewer.components.WPhoto":{styleId:"wp1"},"mobile.core.components.Page":{styleId:"p1"},"wysiwyg.viewer.components.Repeater":{style:{type:"ComponentStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-bg":"0","alpha-brd":"0",bg:"61,155,233,1","boxShadowToggleOn-shd":"false",brd:"#324158",brw:"0px",rd:"0px",shd:"0px 1px 4px 0px rgba(0,0,0,0.6)"},propertiesSource:{"alpha-bg":"value","alpha-brd":"value",bg:"value",brd:"value",brw:"value",rd:"value",shd:"value"},groups:{}},componentClassName:"mobile.core.components.Container",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.area.DefaultAreaSkin"}}},a=function(e){return i.has(o,e.componentType)&&("txtNew"===e.styleId||"wysiwyg.viewer.skins.WRichTextNewSkin"===e.skin)};function s(e,t,n){var r=o[e.componentType];if(r.styleId)return delete e.skin,void(e.styleId=r.styleId);var a=function(e,t){return"".concat(t?"mobile-":"").concat(e.id.replace("comp-","style-"))}(e,n),s=i.cloneDeep(r.style);s.id=a,t[a]=s,e.styleId=a,delete e.skin}e.exports={exec:function(e){var t=r.dataUtils.getAllCompsInStructure(e.structure,!1,a),n=r.dataUtils.getAllCompsInStructure(e.structure,!0,a);i.forEach(t,(function(t){return s(t,e.data.theme_data,!1)})),i.forEach(n,(function(n,i){t[i]!==n&&s(n,e.data.theme_data,!0)}))}}},function(e,t,n){"use strict";var i=n(0),r=n(1),o=function(e){return"wysiwyg.viewer.components.HoverBox"===e.componentType},a=function(e,t){return{comp:t,definitions:i.get(t,["modes","definitions"]),mobileDisplayedModeId:i.get(e,["data","component_properties",t.propertyQuery,"mobileDisplayedModeId"])}},s=r.siteConstants.COMP_MODES_TYPES.HOVER;e.exports={exec:function(e){var t=r.dataUtils.getAllCompsInStructure(e.structure,!1,o),n=r.dataUtils.getAllCompsInStructure(e.structure,!0,o);i.forEach(t,(function(t,r){var o=n[r];if(o){var c=a(e,t),u=a(e,o),p=i.find(u.definitions,{modeId:u.mobileDisplayedModeId})||{type:s},d=i.find(c.definitions,{type:p.type})||i.find(c.definitions,{type:s});[c,u].forEach((function(t){var n=t.comp;i.set(e,["data","component_properties",n.propertyQuery,"mobileDisplayedModeId"],d.modeId)})),i.set(o,["modes","definitions"],c.definitions)}}))}}},function(e,t,n){"use strict";var i=n(0),r=function(e){return i.get(e,["dataQuery"],"").replace("#","")},o=function(e){return function(t){return i.includes(["144f04b9-aab4-fde7-179b-780c11da4f46","14fd5970-8072-c276-1246-058b79e70c1a"],function(e,t){return i.get(e,["data","document_data",r(t),"widgetId"])}(e,t))}},a=function(e){return i.set(e,["layout","width"],320)};e.exports={exec:function(e){var t=i.get(e,["structure","mobileComponents"]);i(t).filter({componentType:"wysiwyg.viewer.components.tpapps.TPAMultiSection"}).filter(o(e)).forEach(a)}}},function(e,t,n){"use strict";var i=n(0),r={width:320,height:5,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},o=function(e,t){return i.find(e,{dataQuery:t})},a=function(e){return function(t){var n=o(i.get(e,["structure","components"]),"#".concat(t.id));n&&(function(e,t){var n=i.get(e,["data","mobile_hints"]);n&&delete n[t]}(e,n.mobileHintsQuery),delete n.mobileHintsQuery,function(e,t){var n=o(e,t.dataQuery);!n&&e&&((n=i.clone(t)).layout=r,e.push(n))}(i.get(e,["structure","mobileComponents"]),n))}};e.exports={exec:function(e){var t=i.get(e,["data","document_data"]);i(t).filter({widgetId:"14fd5970-8072-c276-1246-058b79e70c1a"}).forEach(a(e))}}},function(e,t,n){"use strict";var i=n(0),r=["screenIn"];function o(e){var t;return t=e,i.includes(r,t.action)&&!i.isUndefined(t.delay)&&i.isUndefined(i.get(t,["params","doubleDelayFixed"]))&&i.merge(e,{delay:2*parseFloat(e.delay),params:{doubleDelayFixed:!0}}),e}e.exports={exec:function(e){var t=e.data.behaviors_data;i.isEmpty(t)||function(e){i.forEach(e,(function(e){if(i.isString(e.items)){var t=JSON.parse(e.items),n=i.map(t,o);e.items=JSON.stringify(n)}}))}(t)}}},function(e,t,n){"use strict";var i=n(0),r=n(2).createHelperAndMigratePage;function o(e,t,n,r){var o=i.get(this.getComponentProperties(e,r),"placeholder"),a=this.getComponentData(e,r),s=i.merge({placeholder:o},a);this.setComponentData(e,r,s,t)}var a=i.mapValues(i.keyBy(["wysiwyg.viewer.components.inputs.TextInput","wixapps.integration.components.inputs.TextArea","wysiwyg.viewer.components.inputs.TextAreaInput","wysiwyg.viewer.components.inputs.ComboBoxInput","wysiwyg.viewer.components.inputs.DatePicker"]),(function(){return o}));e.exports={exec:r(a)}},function(e,t,n){"use strict";function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var o=n(0),a=function(e){return o.get(e,"layout.fixedPosition",!1)},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return[];if(a(e))return[t];var n=c(e,"children",t),i=c(e,"components",t);return n.concat(i)},c=function(e,t,n){var r=[];if(e&&e[t]&&o.isArray(e[t]))for(var a=[].concat(n).concat(t),c=0;c<e[t].length;c++)r.unshift.apply(r,i(s(e[t][c],a.concat(c))));return r},u=function(e){return o.get(e,"structure.components.0",{})},p=function(e,t,n){var i=e[o.head(t)],r=i===o.get(e,t.slice(0,t.length-1)),a=t[1]+(r?0:1);i.splice(a,0,n)},d=function(e,t){var n=t.slice(0,t.length-1);o.get(e,n).splice(o.last(t),1)};e.exports={exec:function(e){var t,n=function(e){return"wysiwyg.viewer.components.PopupContainer"===u(e).componentType}(e)?u(e):e.structure;a(t=n)&&o.set(t,"layout.fixedPosition",!1);var i,r,c=s(n);return i=n,r=c,o.forEach(r,(function(e){var t=o.get(i,e);d(i,e),p(i,e,t)})),e}}},function(e,t,n){"use strict";var i=n(0),r=n(1),o=function(e){return function(t){var n,o=(n=e.unquote,function(e){var t=[];r.htmlParser(e.text,{start:function(e,r){var o=i.find(r,{name:"style"});if(o){var a=n?o.value.replace(/&quot;/g,""):o.value,s=/font-family:([^;]+);?/gi.exec(a);s&&t.push(s[1].trim())}}}),i.set(e,"usedFonts",t)});i(t.data.document_data).filter((function(e){var t=e.type;return!e.usedFonts&&"StyledText"===t})).forEach(o)}};e.exports={exec:function(e,t,n,r,a,s,c,u){if(u.isExperimentOpen("sv_usedFontsDataFixer")){var p=u.isExperimentOpen("sv_unquoteUsedFontsInDataFixer"),d=o({unquote:p});try{d(e),i(e.translations).forEach(d)}catch(e){}return e}}}},function(e,t,n){"use strict";var i=n(2).createHelperAndMigratePage,r=function(e){var t=e.componentType,n=e.dataQuery;return function(e,i,r,o){o.componentType=t,n&&(o.dataQuery=n)}},o={"wysiwyg.viewer.components.ClipArt":r({componentType:"wysiwyg.viewer.components.WPhoto"}),"wysiwyg.viewer.components.HorizontalMenu":r({componentType:"wysiwyg.viewer.components.menus.DropDownMenu",dataQuery:"#CUSTOM_MAIN_MENU"})};e.exports={exec:i(o)}},function(e,t,n){"use strict";var i=n(0);e.exports={exec:function(e){if("Document"===e.structure.type&&!i.get(e.data.document_data.TINY_MENU,"loginSocialBarRef")){var t=i.find(e.translations,(function(e){return i.get(e,"data.document_data.TINY_MENU.loginSocialBarRef")}));if(t){var n=t.data.document_data.TINY_MENU.loginSocialBarRef;i.set(e.data.document_data.TINY_MENU,"loginSocialBarRef",n)}}}}},function(e,t,n){"use strict";var i=n(0),r=n(2).createHelperAndMigratePage,o=n(3);var a={"wysiwyg.viewer.components.inputs.ComboBoxInput":function(e,t,n,r){var a=this;o.forEachComponentStyle(e.data.theme_data,r.styleId,(function(t){var n=i.get(t,["style","properties"]);if(n){var o=a.getComponentProperties(e,r),s=a.getComponentData(e,r),c=s.value===function(e,t){return i.get(e,["placeholder","value"])||i.get(t,["placeholder","value"])}(o,s);n.txt_placeholder||(c?i.assign(n,{txt_placeholder:n.txt2}):i.assign(n,{txt_placeholder:n.txt}))}}))}};e.exports={exec:r(a)}},function(e,t,n){"use strict";var i=n(0),r=n(2).CompsMigrationHelper,o=n(104).getOverrides,a=n(3);e.exports={WUSOverrides:o(),exec:function(e,t,n,o,s,c,u,p){if(p.isViewerMode){var d=e.data&&e.data.theme_data,l={};if(Object.values(this.WUSOverrides).forEach((function(e){var t,n,r;p.isExperimentOpen(e.viewerExperimentKey)&&(l[e.overrideViewerType]=i.partial((t=e.overrideViewerType,n=e.newComponentViewerType,r=e.newComponentSkin,function(e,i,o,a,s){s.componentType===t&&(s.componentType=n,r&&(s.skin=r))}),p.clientSpecMap),i.isEmpty(d)||a.forEachStyle(d,(function(t){return n=t,r=(i=e).newComponentSkin,o=i.overrideViewerType,a=i.newComponentViewerType,void(n.componentClassName===o&&(n.componentClassName=a,n.skin=r));var n,i,r,o,a})))})),Object.values(l).length){var m=p.dataFixerUtils.uniqueIdGenerator;new r(l,m).migratePage(e)}}}}},function(e,t,n){var i;"undefined"!=typeof self&&self,i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://static.parastorage.com/services/wix-ui-santa/1.1542.0/",n(n.s=123)}({123:function(e,t,n){var i=function(e){return e.keys().map(e).reduce((function(e,t){return e[t.overrideViewerType]=t,e}),{})}(n(124));e.exports={getOverrides:function(){return i}}},124:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=124}})},e.exports=i()},function(e,t,n){"use strict";var i=n(0),r=n(4),o=n(1),a=function(e,t,n){var o=i.difference(t.values,["#".concat(n)]);e[t.id]=r.refArray.update(t,o)},s=function(e,t,n){var s=o.constants.PAGE_DATA_DATA_TYPES[t],c=e.data[s],u=i.pickBy(c,r.refArray.isRefArray),p={};return i.forEach(u,(function(e){var o=r.refArray.extractValuesWithoutHash(e);i.forEach(o,(function(o){if(i.has(c,o))if(i.has(p,o)){if(p[o]===e.id)!function(e,t){var n=i.uniq(t.values);e[t.id]=r.refArray.update(t,n)}(c,e);else{var s=c[o],u=function(e,t,n,o,a){var s=a.getUniqueId(t,"-",{bucket:t}),c=i.assign({},o,{id:s});if(r.breakpointRelation.isBreakpointRelation(o)){var u=e[r.stripHashIfExists(o.ref)],p=a.getUniqueId(t,"-",{bucket:t});c.ref="#".concat(p),e[p]=i.assign({},u,{id:p})}e[s]=c;var d=i(n.values).replace("#".concat(o.id),"#".concat(s)).split(",");return e[n.id]=r.refArray.update(n,d),s}(c,t,e,s,n);p[u]=e.id}}else p[o]=e.id;else a(c,e,o)}))})),p},c=function(e,t,n,s){var c=o.constants.PAGE_DATA_DATA_TYPES[t],u=e.data[c],p=i.pickBy(u,r.breakpointRelation.isBreakpointRelation);i.forEach(p,(function(e){var i=e.breakpoint&&e.breakpoint.replace("#",""),o=!!n[i],c=r.stripHashIfExists(e.ref),p=!!u[c],d=s[t][e.id],l=u[d];o&&p&&l||(!function(e,t){var n=r.stripHashIfExists(t.ref);n&&delete e[n],delete e[t.id]}(u,e),l&&a(u,l,e.id))}))};e.exports={exec:function(e,t,n,r,o,a,u,p){if(p.isExperimentOpen("dm_removeMissingResponsiveRefs")){var d=p.dataFixerUtils.uniqueIdGenerator,l=i.get(e.data,"breakpoints_data");if(!i.isEmpty(l)){var m=i.pickBy(l,{type:"BreakpointRange"}),f={};f.layout=s(e,"layout",d),c(e,"layout",m,f),function(e,t){var n=e.data.document_data,r=i.pickBy(n,{type:"ImageX"});i.forEach(r,(function(e,r){var o=i.filter(e.scopedData,(function(e){var n=e.breakpoint&&e.breakpoint.replace("#","");return!n||!!t[n]}));n[r]=i.assign({},e,{scopedData:o})}))}(e,m)}}}}},function(e,t,n){"use strict";var i=n(0),r=n(4),o=function(e,t,n){var r;e?(r=e,n.push(t.id)):((r={componentLayout:{},itemLayout:{},containerLayout:{},type:"SingleLayoutData"}).id=t.id,r.metaData=t.metaData);var o=i.omit(t,"breakpoint","id","metaData");switch(o.type){case"FlexContainerLayout":case"GridContainerLayout":case"StackContainerLayout":case"OrganizerContainerLayout":r.containerLayout=i.isEmpty(r.containerLayout)?o:r.containerLayout;break;case"FlexItemLayout":case"GridItemLayout":case"StackItemLayout":case"FixedItemLayout":case"OrganizerItemLayout":r.itemLayout=i.isEmpty(r.itemLayout)?o:r.itemLayout;break;case"ComponentLayout":r.componentLayout=i.isEmpty(r.componentLayout)?o:r.componentLayout;break;case"SingleLayoutData":r.containerLayout=i.isEmpty(r.containerLayout)?t.containerLayout:r.containerLayout,r.itemLayout=i.isEmpty(r.itemLayout)?t.itemLayout:r.itemLayout,r.componentLayout=i.isEmpty(r.componentLayout)?t.componentLayout:r.componentLayout}return r},a=function(e,t,n,a){i.forEach(n,(function(n){var s,c=e.layout_data[n],u=n;if(r.breakpointRelation.isBreakpointRelation(c))s=r.breakpointRelation.extractBreakpointWithoutHash(c),u=r.breakpointRelation.extractRefWithoutHash(c);else if(r.variantRelation.isVariantRelation(c)){var p=r.variantRelation.extractVariantsWithoutHash(c);s=function(e,t){return i.find(t,(function(t){return"BreakpointRange"===e.variants_data[t].type}))}(e,p),u=r.variantRelation.extractToWithoutHash(c)}var d=e.layout_data[u];s?t.scoped[s]=function(e,t,n,i,r){return e&&r.push(t.id),o(e,n,r)}(t.scoped[s],c,d,0,a):t.nonScoped=function(e,t,n){return o(e,t,n)}(t.nonScoped,d,a)}))},s=function(e,t){i.forEach(t,(function(t){var n={nonScoped:void 0,scoped:{}},o=[],s=r.refArray.extractValuesWithoutHash(t);a(e,n,s,o),function(e,t,n,o){var a=i.difference(n,o);e.layout_data[t.id]=r.refArray.update(t,a),i.forEach(o,(function(t){delete e.layout_data[t]}))}(e,t,s,o),function(e,t){var n=i.get(t.nonScoped,"id");n&&(e.layout_data[n]=t.nonScoped),i.forEach(t.scoped,(function(t){var n=t.id;e.layout_data[n]=t}))}(e,n)}))};e.exports={exec:function(e,t,n,r,o,a,c,u){var p,d,l=u.isExperimentOpen;if(l("bv_migrateResponsiveLayoutToSingleLayoutData")||l("dm_NewLayoutSerialize")){var m=e.data.layout_data,f=i.filter(m,(function(e){return!i.includes(["RefArray","SingleLayoutData","BreakpointRelation","VariantRelation"],e.type)}));if(i.isEmpty(f))return;p=e.data,d=i.filter(p.layout_data,["type","RefArray"]),s(p,d)}}}},function(e,t,n){"use strict";var i=n(0),r=n(1),o=n(4),a=function(e,t,n){var a=r.dataUtils.getAllCompsInStructure(n,!1,(function(e){return i.has(e,t)})),s={};return i.forEach(a,(function(n){var r=o.stripHashIfExists(n[t]),a=i.get(e,r);if(o.refArray.isRefArray(a)){var c=o.refArray.extractValuesWithoutHash(a);i.forEach(c,(function(t){o.breakpointRelation.isBreakpointRelation(e[t])&&(s[t]=n.id)}))}})),s},s=function(e,t){o.breakpointRelation.isBreakpointRelation(e)&&(e.type="VariantRelation",e.to=e.ref,e.from="#".concat(t[e.id]),delete e.ref,e.breakpoint&&(e.variants=[e.breakpoint],delete e.breakpoint))},c=function(e,t){i.forEach(e,(function(e){!function(e,t){var n=t[o.stripHashIfExists(e.breakpointsQuery)];n&&(n.componentId=e.id),e.breakpointsQuery&&(e.breakpointVariantsQuery=o.stripHashIfExists(e.breakpointsQuery),delete e.breakpointsQuery)}(e,t)}))};e.exports={exec:function(e,t,n,o,u,p,d,l){var m=l.isExperimentOpen,f=l.isViewerMode,y=m("bv_migrateResponsiveToVariantsModels")&&f,g=m("dm_migrateResponsiveToVariantsModels")&&!f;if(y||g){if(i.isEmpty(e.data.breakpoints_data))return;var v=r.dataUtils.getAllCompsInStructure(e.structure,!1);!function(e){var t=e.data,n=e.structure;if(t.breakpoints_data&&(t.variants_data=t.breakpoints_data,delete t.breakpoints_data),t.layout_data){var r=a(t.layout_data,"layoutQuery",n);t.layout_data=i.mapValues(t.layout_data,(function(e){return s(e,r),e}))}if(t.theme_data){var o=a(t.theme_data,"styleId",n);t.theme_data=i.mapValues(t.theme_data,(function(e){return s(e,o),e}))}}(e);var w=e.data.variants_data||{};c(v,w)}}}},function(e,t,n){"use strict";e.exports={exec:function(e){var t=e.data.document_data.undefined;t&&"GlobalImageQuality"===t.type&&(t.id="IMAGE_QUALITY",e.data.document_data.IMAGE_QUALITY=t,delete e.data.document_data.undefined)}}},function(e,t,n){"use strict";var i=n(2).createHelperAndMigratePage,r={"wysiwyg.viewer.components.BoxSlideShow":o,"wysiwyg.viewer.components.StripContainerSlideShow":o,"wysiwyg.viewer.components.Repeater":o,"platform.components.AppWidget":o};function o(e,t,n,i,r,o){(i.components||[]).length||o.splice(o.indexOf(i),1)}e.exports={exec:i(r),comps:Object.keys(r)}},function(e,t,n){"use strict";var i=n(0),r=function(e,t,n){var r="".concat(t,"_data"),o=e.data[r],a=i.pickBy(o,{type:"BreakpointRelation"});i.forEach(a,(function(e){var t=e.breakpoint&&i.replace(e.breakpoint,"#",""),r=n[t]&&"#".concat(n[t]);r&&(e.breakpoint=r)}))},o=function(e,t){var n=i.get(e.data,"breakpoints_data"),o=i.pickBy(n,{type:"BreakpointsData"}),a=i.pickBy(n,{type:"BreakpointRange"}),s={};i.forEach(a,(function(e){var r=e.id,o=t.getUniqueId("breakpoints","-",{bucket:"breakpoints"});e.id=o,n[o]=i.set(e,"metaData.schemaVersion","2.0"),delete n[r],s[r]=o})),i.forEach(o,(function(e){var t=[];e.values.forEach((function(e){var n=e.replace("#",""),i="#".concat(s[n]);t.push(i)})),e.values=t})),r(e,"theme",s),r(e,"layout",s),function(e,t){var n=e.data.document_data,r=i.pickBy(n,{type:"ImageX"});i.forEach(r,(function(e){var n=i.pickBy(e.scopedData,"breakpoint");i.forEach(n,(function(e){var n=e.breakpoint&&i.replace(e.breakpoint,"#",""),r=t[n]&&"#".concat(t[n]);e.breakpoint=r}))}))}(e,s)};e.exports={exec:function(e,t,n,r,a,s,c,u){if(!u.isViewerMode){var p=u.dataFixerUtils.uniqueIdGenerator,d=i.get(e.data,"breakpoints_data");if(!i.isEmpty(d)){var l=i.pickBy(d,{type:"BreakpointRange"});if(!i.some(l,(function(e){var t=e.metaData;return parseFloat(t.schemaVersion)<parseFloat("2.0")})))return;o(e,p)}}}}},function(e,t,n){"use strict";var i=n(2).createHelperAndMigratePage,r=n(1),o=n(0),a={"wysiwyg.viewer.components.MatrixGallery":function(e,t,n,i){var a=this.getComponentProperties(e,i);if(a&&!o.isNumber(a.itemHeight)){var c=this.getComponentData(e,i),u=Math.max(70,o.get(i,["layout","height"])),p=i.styleId,d=o.get(e,["data","theme_data",p]),l=o.get(d,"skin")||o.get(i,"skin"),m=o.get(s,[l,"heightDiff"])||0,f=r.matrixCalculations.getAvailableRowsNumber(a.maxRows,a.numCols,c.items.length),y=r.matrixCalculations.getItemHeight(a.margin,u,f,m),g=o.merge({itemHeight:y},a);this.setComponentProperties(e,i,g,t)}}},s={"skins.viewer.gallerymatrix.MatrixGalleryIronSkin":{heightDiff:40},"skins.viewer.gallerymatrix.MatrixGalleryScotchTapeSkin":{heightDiff:50},"wysiwyg.common.components.matrixgallery.viewer.skins.MatrixGallerySeparateTextBoxSkin":{heightDiff:40},"wysiwyg.common.components.matrixgallery.viewer.skins.MatrixGalleryTextOnCenterSkin":{heightDiff:25},"wysiwyg.viewer.skins.displayers.CircleDetailedDisplayer":{heightDiff:0},"wysiwyg.viewer.skins.displayers.PolaroidDisplayer":{heightDiff:40},"wysiwyg.viewer.skins.gallery.CircleMatrixGallery":{heightDiff:40},"wysiwyg.viewer.skins.gallery.MatrixGallerySkin":{heightDiff:40},"wysiwyg.viewer.skins.gallery.PolaroidMatrixGallery":{heightDiff:0},"wysiwyg.viewer.skins.gallerymatrix.BlogMatrixGallery":{heightDiff:25},"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryCircleSkin":{heightDiff:40},"wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerVintage":{heightDiff:80},"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryDefaultSkin":{heightDiff:25},"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryLiftedShadow":{heightDiff:25},"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryPolaroidSkin":{heightDiff:25},"wysiwyg.viewer.skins.gallerymatrix.MatrixGallerySloopy":{heightDiff:25},"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTextBelowSkin":{heightDiff:25},"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTextSlideUpSkin":{heightDiff:25},"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTransparentSkin":{heightDiff:25},"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryVintage":{heightDiff:25},"wysiwyg.viewer.skins.gallerymatrix.PolaroidCustomHeightSkin":{heightDiff:25},"wysiwyg.viewer.skins.gallerymatrix.TextBottomCustomHeightSkin":{heightDiff:25}};e.exports={exec:i(a),comps:Object.keys(a)}},function(e,t,n){"use strict";var i=n(0),r={BackgroundParallax:[{name:"BgParallax",action:"bgScrub",duration:1,delay:0}],BackgroundReveal:[{name:"BgReveal",action:"bgScrub",duration:1,delay:0}],"BackgroundParallax,BackgroundZoom":[{name:"BgZoomIn",action:"bgScrub",duration:1,delay:0}],BackgroundFadeIn:[{name:"BgFadeIn",action:"bgScrub",duration:1,delay:0}]};function o(e){var t=i.filter(e,{action:"bgScrub"});return t&&function(e){var t=i(e).map("name").sort().join();return r[t]}(t)}e.exports={exec:function(e){var t=i.get(e,["data","behaviors_data"]);i.forEach(t,(function(e){try{var t=e.items?JSON.parse(e.items):[],n=o(t);n&&function(e,t,n){var r=i.reject(t,{action:"bgScrub"}).concat(n);e.items=JSON.stringify(r)}(e,t,n)}catch(e){}}))},FIXER_BEHAVIORS:r}},function(e,t,n){"use strict";var i=n(2).createHelperAndMigratePage;var r={"wysiwyg.viewer.components.SiteRegionContainer":function(e,t,n,i,r){if("SOSP_CONTAINER_CUSTOM_ID"===i.id&&"sirc1"===i.styleId){i.skin=void 0;var o=function(e){return{type:"ComponentStyle",styleType:"custom",id:e.getUniqueId("style","-"),skin:"wysiwyg.viewer.skins.area.DefaultAreaSkin",componentClassName:"wysiwyg.viewer.components.SiteRegionContainer",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{groups:{},properties:{"alpha-bg":"1","alpha-brd":"1",bg:"color_11","boxShadowToggleOn-shd":"false",brd:"color_15",brw:"0",rd:"0px",shd:"0px 0px 0px 0px rgba(0,0,0,0)"},propertiesSource:{"alpha-bg":"value","alpha-brd":"value",bg:"theme","boxShadowToggleOn-shd":"value",brd:"theme",brw:"value",rd:"value",shd:"value"}}}}(r);i.styleId=o.id,this.setComponentStyle(e,i,o,t)}}};e.exports={exec:i(r)}},function(e,t,n){"use strict";var i=n(0),r=n(10).publicDataMaps;e.exports={exec:function(e,t,n,o,a,s,c,u){u.isViewerMode&&(e.data=i.pick(e.data,r))}}},function(e){e.exports=JSON.parse('{"anchors":{"namespace":"anchors","hasFeaturePublicAPI":false,"isPublicViewerData":true,"mapName":"anchors_data","query":"anchorQuery"},"atomicScopes":{"namespace":"atomicScopes","mapName":"atomicScopes","supportsVariants":false,"isPublicViewerData":false},"behaviors":{"mapName":"behaviors_data","query":"behaviorQuery","namespace":"behaviors","hasFeaturePublicAPI":false,"isPublicViewerData":true},"breakpoints":{"mapName":"breakpoints_data","query":"breakpointsQuery","namespace":"breakpoints","hasFeaturePublicAPI":false,"isPublicViewerData":true},"connections":{"mapName":"connections_data","query":"connectionQuery","namespace":"connections","hasFeaturePublicAPI":false,"isPublicViewerData":true},"contentRole":{"mapName":"contentRole","query":"contentRoleQuery","namespace":"contentRole","hasFeaturePublicAPI":true,"isPublicViewerData":false},"data":{"mapName":"document_data","query":"dataQuery","namespace":"data","hasFeaturePublicAPI":false,"isPublicViewerData":true,"overrideNamespace":"multilingualTranslations"},"design":{"mapName":"design_data","query":"designQuery","namespace":"design","hasFeaturePublicAPI":false,"isPublicViewerData":true},"discussions":{"mapName":"discussions","query":"discussionsQuery","namespace":"discussions","supportsVariants":true,"hasFeaturePublicAPI":true,"isPublicViewerData":false},"grouping":{"mapName":"grouping","query":"groupingQuery","namespace":"grouping","hasFeaturePublicAPI":true,"isPublicViewerData":false},"intent":{"mapName":"intent","query":"intentQuery","namespace":"intent","hasFeaturePublicAPI":true,"isPublicViewerData":false},"layout":{"mapName":"layout_data","supportsVariants":true,"scopedSerializationKey":"scopedLayouts","query":"layoutQuery","namespace":"layout","hasFeaturePublicAPI":false,"isPublicViewerData":true},"manifest":{"mapName":"manifest","query":"manifestQuery","namespace":"manifest","hasFeaturePublicAPI":true,"isPublicViewerData":false},"migration":{"mapName":"migration","query":"migrationQuery","namespace":"migration","hasFeaturePublicAPI":true,"isPublicViewerData":false},"mobileHints":{"mapName":"mobile_hints","query":"mobileHintsQuery","namespace":"mobileHints","hasFeaturePublicAPI":false,"isPublicViewerData":true},"naming":{"mapName":"naming","query":"namingQuery","namespace":"naming","hasFeaturePublicAPI":true,"isPublicViewerData":false},"presets":{"mapName":"presets","supportsVariants":true,"scopedSerializationKey":"scopedPresets","query":"presetsQuery","namespace":"presets","hasFeaturePublicAPI":true,"isPublicViewerData":true},"props":{"namespace":"props","mapName":"component_properties","dataTypeName":"prop","query":"propertyQuery","hasFeaturePublicAPI":false,"isPublicViewerData":true},"structure":{"namespace":"structure","mapName":"structure","aliases":["DESKTOP","MOBILE"],"hasFeaturePublicAPI":false,"isPublicViewerData":false},"style":{"mapName":"theme_data","dataTypeName":"theme","supportsVariants":true,"scopedSerializationKey":"scopedStyles","query":"styleId","namespace":"style","hasFeaturePublicAPI":false,"isPublicViewerData":true},"transformations":{"mapName":"transformations_data","supportsVariants":true,"scopedSerializationKey":"scopedTransformations","query":"transformationQuery","namespace":"transformations","hasFeaturePublicAPI":false,"isPublicViewerData":true},"transitions":{"mapName":"transitions_data","supportsVariants":true,"scopedSerializationKey":"scopedTransitions","query":"transitionQuery","namespace":"transitions","hasFeaturePublicAPI":false,"isPublicViewerData":true},"variants":{"mapName":"variants_data","namespace":"variants","hasFeaturePublicAPI":false,"isPublicViewerData":true}}')},function(e,t,n){"use strict";var i=n(0),r=n(1),o=n(10).nonPublicDataQueries,a=function(e){i.isObject(e)&&i.forEach(o,(function(t){return delete e[t]}))};e.exports={exec:function(e,t,n,o,s,c,u,p){if(p.isViewerMode){var d=r.dataUtils.getAllCompsInStructure(e.structure,!1),l=r.dataUtils.getAllCompsInStructure(e.structure,!0);i.forEach(d,a),i.forEach(l,a)}}}},function(e,t,n){"use strict";var i=n(0);e.exports={exec:function(e,t,n,r,o,a,s,c){if(c.isExperimentOpen("dm_removePopupBehaviorPointingToNonExsitingPopup")){var u=e.data.behaviors_data,p=e.structure.behaviorQuery;!i.isEmpty(u)&&p&&function(e,t,n,r){var o=t[e];if(o){var a=o.items;if(!i.isEmpty(a)&&i.isString(a)){var s=JSON.parse(a),c=i.find(s,(function(e){return"openPopup"===i.get(e,["behavior","name"])}));if(c){var u=i.get(c,["behavior","targetId"]);if(u&&!i.includes(n,u)){var p=i.reject(s,(function(e){return"openPopup"===i.get(e,["behavior","name"])}));i.isEmpty(p)?(delete r.structure.behaviorQuery,delete r.data.behaviors_data[e]):o.items=JSON.stringify(p)}}}}}(p,u,t,e)}}}},function(e,t,n){"use strict";var i=n(0),r=n(1),o=n(119);function a(e,t){var n=t.pageJson,a=t.urlFormatModel,s=t.isViewerMode,c=t.clientSpecMap,u=t.quickActionsMenuEnabled,p=t.experiments,d=t.pageIdsArray,l=t.pageId,m={};m.isSlash=i.matchesProperty("format",r.siteConstants.URL_FORMATS.SLASH)(a),m.pageIdToResolvedUriSEO=i.get(a,"pageIdToResolvedUriSEO",{}),m.clientSpecMap=c,m.quickActionsMenuEnabled=u,m.isExperimentOpen=function(e){return i.includes(p,e)},m.isViewerMode=s,m.dataFixerUtils={uniqueIdGenerator:o(n,l)};var f=n.data||{};return f.document_data=f.document_data||{},f.theme_data=f.theme_data||{},f.component_properties=f.component_properties||{},f.mobile_hints=f.mobile_hints||{},n.data=f,i.forEach(e,(function(e){e.exec(n,d,null,null,null,null,null,m)})),n}e.exports=function(e){return a.bind(null,e.getPlugins())}},function(e,t,n){"use strict";function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var o=n(1),a=/^[0-9a-f]{6}_[0-9a-f]{32}_\d+$/;e.exports=function(e,t){if(a.test(t)){var n=function(e){return"Document"===e.structure.type?"masterPage":e.structure.id}(e),r=i(t.split("_"),3)[2],s="".concat(n,"-").concat(Number(r).toString(36));return o.guidUtils.getUniqueIdGenerator(s)}return{getUniqueId:o.guidUtils.getUniqueId}}},function(e,t,n){"use strict";var i=n(0),r=n(1),o=n(6);function a(e){switch(e){case"wysiwyg.viewer.components.WSiteStructure":return"Document";case"mobile.core.components.Page":return"Page";case"wixapps.integration.components.Area":case"mobile.core.components.Container":case"wysiwyg.viewer.components.HeaderContainer":case"wysiwyg.viewer.components.FooterContainer":case"wysiwyg.viewer.components.PagesContainer":case"wysiwyg.viewer.components.ScreenWidthContainer":case"wysiwyg.viewer.components.StripContainer":return"Container"}return"Component"}function s(e){return parseInt(e||0,10)}function c(e,t,n,r,o){var c=i(r).map("name").invokeMap("toLowerCase").zipObject(i.map(r,"value")).value();"Page"===a(c.comp)&&(t.page=c.id),e.pagesData[t.page]=e.pagesData[t.page]||{structure:{},data:{},theme_data:{}};var u=e.pagesData[t.page].structure=e.pagesData[t.page].structure||{};if(i.has(t.childrenIndex,t.page)){for(var p=0;p<t.childrenIndex[t.page].length;p++)u=u.components[t.childrenIndex[t.page][p]];var d={};t.childrenIndex[t.page].push(u.components.length),u.components.push(d),u=d}else t.childrenIndex[t.page]=[];u.componentType=c.comp,u.type=a(c.comp),u.id=c.id,u.components=[],u.skin=c.skin,u.styleId=c.styleid,c.dataquery&&(u.dataQuery=c.dataquery),u.propertyQuery=c.propertyquery,u.layout={width:s(c.width),height:s(c.height),x:s(c.x),y:s(c.y),anchors:e.wixAnchors[c.id]||[]}}function u(e,t,n){0===t.childrenIndex[t.page].length?t.page="masterPage":t.childrenIndex[t.page].pop()}e.exports=function(e){e.pagesData={};var t=i.get(e,"wixData.document_data.SITE_STRUCTURE.mainPage")||i.get(e,"wixData.document_data.masterPage.mainPage"),n=t&&t.slice(1);e.pagesData.masterPage={data:e.wixData},e.pagesData.masterPage.structure={};var a={page:"masterPage",childrenIndex:{}};r.htmlParser(e.wixHtmlRaw,{start:c.bind(void 0,e,a),end:u.bind(void 0,e,a)});var s=i.keys(e.pagesData),p=i.without(s,"masterPage");e.pagesData.masterPage.data.document_data.MAIN_MENU=e.pagesData.masterPage.data.document_data.MAIN_MENU||{items:[],type:"Menu",id:"MAIN_MENU",metaData:{}},i.forEach(s,(function(t){e.pagesData[t]=o(e.pagesData[t],p,e.requestModel,e.currentUrl,e.urlFormatModel)})),e.rendererModel.pageList={mainPageId:n,pages:i.map(p,(function(t){return i.chain(e).get(["pagesData","masterPage","data","document_data",t]).pick(["title","pageUriSEO"]).assign({pageId:t}).value()}))}}}])}));
//# sourceMappingURL=santa-data-fixer.min.js.map